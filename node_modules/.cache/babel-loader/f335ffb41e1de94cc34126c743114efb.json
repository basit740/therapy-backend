{"ast":null,"code":"var _jsxFileName = \"/Users/apple/Documents/work/fiverr/2021/December/boulmpos/Backups/latest2/src/components/Dashboard/CreateNewVersion/StepSeven/Thoughts.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useReducer } from 'react';\nimport './Thoughts.css';\nimport ThoughtCard from './ThoughtCard';\nimport Thought from './Thought';\nimport reducer, { ACTIONS } from './reducer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  thoughts: {\n    first: [],\n    second: [],\n    third: [],\n    fourth: []\n  },\n  dragId: null,\n  dragSrcId: null,\n  dataLoading: true\n};\n\nconst Thoughts = props => {\n  _s();\n\n  const [firstThoughts, setFirstThoughts] = useState([]);\n  const [secondThoghts, setSecondThoughts] = useState([]);\n  const [thirdThoughts, setThirdThoughts] = useState([]);\n  const [fourthThoughts, setFourthThoughts] = useState([]);\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const [newThought, setNewThought] = useState('');\n  const [draggingThought, setDraggingThought] = useState(null);\n  const [dragSourceId, setDragSourceId] = useState(null); ////////////////////////////////////// HELPER FUNCTIONS       /////////////////////\n\n  const cleanSourceCard = (id, draggingThg) => {\n    if (id == 1) {\n      const filtered = firstThoughts.filter(thg => thg.id != draggingThg.id);\n      setFirstThoughts(filtered);\n    } else if (id == 2) {\n      const filtered = secondThoghts.filter(thg => thg.id != draggingThg.id);\n      setSecondThoughts(filtered);\n    } else if (id == 3) {\n      const filtered = thirdThoughts.filter(thg => thg.id != draggingThg.id);\n      setThirdThoughts(filtered);\n    } else if (id == 4) {\n      const filtered = fourthThoughts.filter(tgh => tgh.id != draggingThg.id);\n      setFourthThoughts(filtered);\n    }\n  };\n\n  const findInFirstCard = draggingTgh => {\n    const found = firstThoughts.find(thg => thg.id == draggingTgh.id);\n\n    if (found) {\n      return true;\n    }\n  };\n\n  const findInSecondCard = draggingTgh => {\n    const found = secondThoghts.find(thg => thg.id == draggingTgh.id);\n\n    if (found) {\n      return true;\n    }\n  };\n\n  const findInThirdCard = draggingTgh => {\n    const found = thirdThoughts.find(thg => thg.id == draggingTgh.id);\n\n    if (found) {\n      return true;\n    }\n  };\n\n  const findInFourthCard = draggingTgh => {\n    const found = fourthThoughts.find(thg => thg.id == draggingTgh.id);\n\n    if (found) {\n      return true;\n    }\n  };\n\n  const filterThoughts = (parentCardId, thgId) => {\n    if (parentCardId == 1) {\n      const filterd = firstThoughts.filter(thg => thg.id != thgId);\n      return filterd;\n    }\n\n    if (parentCardId == 2) {\n      const filterd = secondThoghts.filter(thg => thg.id != thgId);\n      return filterd;\n    }\n\n    if (parentCardId == 3) {\n      const filterd = thirdThoughts.filter(thg => thg.id != thgId);\n      return filterd;\n    }\n\n    if (parentCardId == 4) {\n      const filterd = fourthThoughts.filter(thg => thg.id != thgId);\n      return filterd;\n    }\n  }; /////////////////////////////////// NATIVE ADD AND DELETE FUNCTIONALITY FOR ITEMS ///////////\n\n\n  const newThoughtHandler = newThought => {\n    dispatch({\n      type: ACTIONS.ADD_NEW_THOUGHT,\n      payload: {\n        newThought: newThought,\n        cardId: newThought.cardId\n      }\n    });\n  };\n\n  const deleteThgHandler = event => {\n    console.log(event.target.id);\n    const CARD_ID = event.target.getAttribute('parentId');\n    console.log('parent Card id', CARD_ID);\n    dispatch({\n      type: ACTIONS.DELETE_THOUGHT,\n      payload: {\n        cardId: CARD_ID,\n        thoughtId: event.target.id\n      }\n    }); // if (CARD_ID == 1) {\n    // \tsetFirstThoughts(filterThoughts(1, event.target.id));\n    // } else if (CARD_ID == 2) {\n    // \tsetSecondThoughts(filterThoughts(2, event.target.id));\n    // } else if (CARD_ID == 3) {\n    // \tsetThirdThoughts(filterThoughts(3, event.target.id));\n    // } else {\n    // \tsetFourthThoughts(filterThoughts(4, event.target.id));\n    // }\n  };\n\n  const dragStartHandler = event => {\n    console.log('drag is started', event.target.parentNode.id);\n    event.target.classList.add('dragging');\n    dispatch({\n      type: ACTIONS.DRAGGING,\n      payload: {\n        dragId: event.target.id,\n        dragSrcId: event.target.parentNode.id\n      }\n    });\n\n    if (event.target.parentNode.id == 4) {\n      const thg = fourthThoughts.find(thg => thg.id == event.target.id);\n      console.log('dragging thgought', thg);\n      setDraggingThought(thg);\n      setDragSourceId(4);\n    }\n\n    if (event.target.parentNode.id == 3) {\n      const thg = thirdThoughts.find(thg => thg.id == event.target.id); //console.log('dragging thought',thg)\n\n      setDraggingThought(thg);\n      setDragSourceId(3);\n    }\n\n    if (event.target.parentNode.id == 2) {\n      const thg = secondThoghts.find(thg => thg.id == event.target.id); //console.log('dragging thought',thg)\n\n      setDraggingThought(thg);\n      setDragSourceId(2);\n    }\n\n    if (event.target.parentNode.id == 1) {\n      const thg = firstThoughts.find(thg => thg.id == event.target.id); //console.log('dragging thought',thg)\n\n      setDraggingThought(thg);\n      setDragSourceId(1);\n    }\n  };\n\n  const dragEndHandler = event => {\n    event.target.classList.remove('dragging');\n  };\n\n  const dropHandler = event => {\n    event.preventDefault();\n    const element = document.querySelector('.dragging');\n    console.log('drop end', event.target.id);\n\n    if (event.target.id == 1) {\n      // check if already exists\n      if (dragSourceId == 1) {\n        return;\n      }\n\n      if (findInFirstCard(draggingThought.id)) {\n        return;\n      }\n\n      setFirstThoughts(prev => {\n        return [...prev, draggingThought];\n      });\n      cleanSourceCard(dragSourceId, draggingThought);\n    } else if (event.target.id == 2) {\n      if (dragSourceId == 2) {\n        return;\n      }\n\n      if (findInSecondCard(draggingThought.id)) {\n        return;\n      }\n\n      setSecondThoughts(prev => {\n        return [...prev, draggingThought];\n      });\n      cleanSourceCard(dragSourceId, draggingThought);\n    } else if (event.target.id == 3) {\n      if (dragSourceId == 3) {\n        return;\n      }\n\n      if (findInThirdCard(draggingThought.id)) {\n        return;\n      }\n\n      setThirdThoughts(prev => {\n        return [...prev, draggingThought];\n      });\n      cleanSourceCard(dragSourceId, draggingThought);\n    } else if (event.target.id == 4) {\n      if (dragSourceId == 4) {\n        return;\n      }\n\n      if (findInFourthCard(draggingThought.id)) {\n        return;\n      }\n\n      setFourthThoughts(prev => {\n        return [...prev, draggingThought];\n      });\n      cleanSourceCard(dragSourceId, draggingThought);\n    }\n  };\n\n  const allowDrop = event => {\n    console.log('dragging over element');\n    event.preventDefault();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"thought-cards-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row g-0\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col\",\n          children: /*#__PURE__*/_jsxDEV(ThoughtCard, {\n            id: \"1\",\n            title: \"Very likely or Real\",\n            thoughts: state.thoughts.first,\n            onNewThought: newThoughtHandler,\n            onDragStart: dragStartHandler,\n            onDragEnd: dragEndHandler,\n            onDrop: dropHandler,\n            onDragOver: allowDrop,\n            onDelete: deleteThgHandler\n          }, '1', false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col\",\n          children: /*#__PURE__*/_jsxDEV(ThoughtCard, {\n            id: \"2\",\n            title: \"somewhat likely or real\",\n            thoughts: state.thoughts.second,\n            onNewThought: newThoughtHandler,\n            onDragStart: dragStartHandler,\n            onDragEnd: dragEndHandler,\n            onDrop: dropHandler,\n            onDragOver: allowDrop,\n            onDelete: deleteThgHandler\n          }, '2', false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col\",\n          children: /*#__PURE__*/_jsxDEV(ThoughtCard, {\n            id: \"3\",\n            title: \"Probably not or unrealistic\",\n            thoughts: state.thoughts.third,\n            onNewThought: newThoughtHandler,\n            onDragStart: dragStartHandler,\n            onDragEnd: dragEndHandler,\n            onDrop: dropHandler,\n            onDragOver: allowDrop,\n            onDelete: deleteThgHandler\n          }, '3', false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col\",\n          children: /*#__PURE__*/_jsxDEV(ThoughtCard, {\n            id: \"4\",\n            title: \"Highly unlikey or unrealistic\",\n            thoughts: state.thoughts.fourth,\n            onNewThought: newThoughtHandler,\n            onDragStart: dragStartHandler,\n            onDragEnd: dragEndHandler,\n            onDrop: dropHandler,\n            onDragOver: allowDrop,\n            onDelete: deleteThgHandler\n          }, '4', false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 240,\n    columnNumber: 3\n  }, this) // <div className='thought-cards-container'>\n  // </div>\n  ;\n};\n\n_s(Thoughts, \"RYdhrtEWfYkLgU7NJpJ8EjxpuSk=\");\n\n_c = Thoughts;\nexport default Thoughts;\n\nvar _c;\n\n$RefreshReg$(_c, \"Thoughts\");","map":{"version":3,"sources":["/Users/apple/Documents/work/fiverr/2021/December/boulmpos/Backups/latest2/src/components/Dashboard/CreateNewVersion/StepSeven/Thoughts.js"],"names":["React","useState","useEffect","useReducer","ThoughtCard","Thought","reducer","ACTIONS","initialState","thoughts","first","second","third","fourth","dragId","dragSrcId","dataLoading","Thoughts","props","firstThoughts","setFirstThoughts","secondThoghts","setSecondThoughts","thirdThoughts","setThirdThoughts","fourthThoughts","setFourthThoughts","state","dispatch","newThought","setNewThought","draggingThought","setDraggingThought","dragSourceId","setDragSourceId","cleanSourceCard","id","draggingThg","filtered","filter","thg","tgh","findInFirstCard","draggingTgh","found","find","findInSecondCard","findInThirdCard","findInFourthCard","filterThoughts","parentCardId","thgId","filterd","newThoughtHandler","type","ADD_NEW_THOUGHT","payload","cardId","deleteThgHandler","event","console","log","target","CARD_ID","getAttribute","DELETE_THOUGHT","thoughtId","dragStartHandler","parentNode","classList","add","DRAGGING","dragEndHandler","remove","dropHandler","preventDefault","element","document","querySelector","prev","allowDrop"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,UAArC,QAAuD,OAAvD;AACA,OAAO,gBAAP;AACA,OAAOC,WAAP,MAAwB,eAAxB;AAEA,OAAOC,OAAP,MAAoB,WAApB;AAEA,OAAOC,OAAP,IAAkBC,OAAlB,QAAiC,WAAjC;;AAEA,MAAMC,YAAY,GAAG;AACpBC,EAAAA,QAAQ,EAAE;AACTC,IAAAA,KAAK,EAAE,EADE;AAETC,IAAAA,MAAM,EAAE,EAFC;AAGTC,IAAAA,KAAK,EAAE,EAHE;AAITC,IAAAA,MAAM,EAAE;AAJC,GADU;AAOpBC,EAAAA,MAAM,EAAE,IAPY;AAQpBC,EAAAA,SAAS,EAAE,IARS;AASpBC,EAAAA,WAAW,EAAE;AATO,CAArB;;AAYA,MAAMC,QAAQ,GAAIC,KAAD,IAAW;AAAA;;AAC3B,QAAM,CAACC,aAAD,EAAgBC,gBAAhB,IAAoCnB,QAAQ,CAAC,EAAD,CAAlD;AACA,QAAM,CAACoB,aAAD,EAAgBC,iBAAhB,IAAqCrB,QAAQ,CAAC,EAAD,CAAnD;AACA,QAAM,CAACsB,aAAD,EAAgBC,gBAAhB,IAAoCvB,QAAQ,CAAC,EAAD,CAAlD;AACA,QAAM,CAACwB,cAAD,EAAiBC,iBAAjB,IAAsCzB,QAAQ,CAAC,EAAD,CAApD;AAEA,QAAM,CAAC0B,KAAD,EAAQC,QAAR,IAAoBzB,UAAU,CAACG,OAAD,EAAUE,YAAV,CAApC;AAEA,QAAM,CAACqB,UAAD,EAAaC,aAAb,IAA8B7B,QAAQ,CAAC,EAAD,CAA5C;AAEA,QAAM,CAAC8B,eAAD,EAAkBC,kBAAlB,IAAwC/B,QAAQ,CAAC,IAAD,CAAtD;AAEA,QAAM,CAACgC,YAAD,EAAeC,eAAf,IAAkCjC,QAAQ,CAAC,IAAD,CAAhD,CAZ2B,CAc3B;;AACA,QAAMkC,eAAe,GAAG,CAACC,EAAD,EAAKC,WAAL,KAAqB;AAC5C,QAAID,EAAE,IAAI,CAAV,EAAa;AACZ,YAAME,QAAQ,GAAGnB,aAAa,CAACoB,MAAd,CAAsBC,GAAD,IAASA,GAAG,CAACJ,EAAJ,IAAUC,WAAW,CAACD,EAApD,CAAjB;AACAhB,MAAAA,gBAAgB,CAACkB,QAAD,CAAhB;AACA,KAHD,MAGO,IAAIF,EAAE,IAAI,CAAV,EAAa;AACnB,YAAME,QAAQ,GAAGjB,aAAa,CAACkB,MAAd,CAAsBC,GAAD,IAASA,GAAG,CAACJ,EAAJ,IAAUC,WAAW,CAACD,EAApD,CAAjB;AACAd,MAAAA,iBAAiB,CAACgB,QAAD,CAAjB;AACA,KAHM,MAGA,IAAIF,EAAE,IAAI,CAAV,EAAa;AACnB,YAAME,QAAQ,GAAGf,aAAa,CAACgB,MAAd,CAAsBC,GAAD,IAASA,GAAG,CAACJ,EAAJ,IAAUC,WAAW,CAACD,EAApD,CAAjB;AACAZ,MAAAA,gBAAgB,CAACc,QAAD,CAAhB;AACA,KAHM,MAGA,IAAIF,EAAE,IAAI,CAAV,EAAa;AACnB,YAAME,QAAQ,GAAGb,cAAc,CAACc,MAAf,CAAuBE,GAAD,IAASA,GAAG,CAACL,EAAJ,IAAUC,WAAW,CAACD,EAArD,CAAjB;AACAV,MAAAA,iBAAiB,CAACY,QAAD,CAAjB;AACA;AACD,GAdD;;AAgBA,QAAMI,eAAe,GAAIC,WAAD,IAAiB;AACxC,UAAMC,KAAK,GAAGzB,aAAa,CAAC0B,IAAd,CAAoBL,GAAD,IAASA,GAAG,CAACJ,EAAJ,IAAUO,WAAW,CAACP,EAAlD,CAAd;;AACA,QAAIQ,KAAJ,EAAW;AACV,aAAO,IAAP;AACA;AACD,GALD;;AAOA,QAAME,gBAAgB,GAAIH,WAAD,IAAiB;AACzC,UAAMC,KAAK,GAAGvB,aAAa,CAACwB,IAAd,CAAoBL,GAAD,IAASA,GAAG,CAACJ,EAAJ,IAAUO,WAAW,CAACP,EAAlD,CAAd;;AACA,QAAIQ,KAAJ,EAAW;AACV,aAAO,IAAP;AACA;AACD,GALD;;AAOA,QAAMG,eAAe,GAAIJ,WAAD,IAAiB;AACxC,UAAMC,KAAK,GAAGrB,aAAa,CAACsB,IAAd,CAAoBL,GAAD,IAASA,GAAG,CAACJ,EAAJ,IAAUO,WAAW,CAACP,EAAlD,CAAd;;AACA,QAAIQ,KAAJ,EAAW;AACV,aAAO,IAAP;AACA;AACD,GALD;;AAOA,QAAMI,gBAAgB,GAAIL,WAAD,IAAiB;AACzC,UAAMC,KAAK,GAAGnB,cAAc,CAACoB,IAAf,CAAqBL,GAAD,IAASA,GAAG,CAACJ,EAAJ,IAAUO,WAAW,CAACP,EAAnD,CAAd;;AACA,QAAIQ,KAAJ,EAAW;AACV,aAAO,IAAP;AACA;AACD,GALD;;AAOA,QAAMK,cAAc,GAAG,CAACC,YAAD,EAAeC,KAAf,KAAyB;AAC/C,QAAID,YAAY,IAAI,CAApB,EAAuB;AACtB,YAAME,OAAO,GAAGjC,aAAa,CAACoB,MAAd,CAAsBC,GAAD,IAASA,GAAG,CAACJ,EAAJ,IAAUe,KAAxC,CAAhB;AACA,aAAOC,OAAP;AACA;;AACD,QAAIF,YAAY,IAAI,CAApB,EAAuB;AACtB,YAAME,OAAO,GAAG/B,aAAa,CAACkB,MAAd,CAAsBC,GAAD,IAASA,GAAG,CAACJ,EAAJ,IAAUe,KAAxC,CAAhB;AACA,aAAOC,OAAP;AACA;;AACD,QAAIF,YAAY,IAAI,CAApB,EAAuB;AACtB,YAAME,OAAO,GAAG7B,aAAa,CAACgB,MAAd,CAAsBC,GAAD,IAASA,GAAG,CAACJ,EAAJ,IAAUe,KAAxC,CAAhB;AACA,aAAOC,OAAP;AACA;;AAED,QAAIF,YAAY,IAAI,CAApB,EAAuB;AACtB,YAAME,OAAO,GAAG3B,cAAc,CAACc,MAAf,CAAuBC,GAAD,IAASA,GAAG,CAACJ,EAAJ,IAAUe,KAAzC,CAAhB;AACA,aAAOC,OAAP;AACA;AACD,GAlBD,CA3D2B,CA8E3B;;;AAEA,QAAMC,iBAAiB,GAAIxB,UAAD,IAAgB;AACzCD,IAAAA,QAAQ,CAAC;AACR0B,MAAAA,IAAI,EAAE/C,OAAO,CAACgD,eADN;AAERC,MAAAA,OAAO,EAAE;AACR3B,QAAAA,UAAU,EAAEA,UADJ;AAER4B,QAAAA,MAAM,EAAE5B,UAAU,CAAC4B;AAFX;AAFD,KAAD,CAAR;AAOA,GARD;;AAUA,QAAMC,gBAAgB,GAAIC,KAAD,IAAW;AACnCC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,MAAN,CAAa1B,EAAzB;AACA,UAAM2B,OAAO,GAAGJ,KAAK,CAACG,MAAN,CAAaE,YAAb,CAA0B,UAA1B,CAAhB;AACAJ,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BE,OAA9B;AAEAnC,IAAAA,QAAQ,CAAC;AACR0B,MAAAA,IAAI,EAAE/C,OAAO,CAAC0D,cADN;AAERT,MAAAA,OAAO,EAAE;AACRC,QAAAA,MAAM,EAAEM,OADA;AAERG,QAAAA,SAAS,EAAEP,KAAK,CAACG,MAAN,CAAa1B;AAFhB;AAFD,KAAD,CAAR,CALmC,CAanC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAtBD;;AAwBA,QAAM+B,gBAAgB,GAAIR,KAAD,IAAW;AACnCC,IAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BF,KAAK,CAACG,MAAN,CAAaM,UAAb,CAAwBhC,EAAvD;AACAuB,IAAAA,KAAK,CAACG,MAAN,CAAaO,SAAb,CAAuBC,GAAvB,CAA2B,UAA3B;AAEA1C,IAAAA,QAAQ,CAAC;AACR0B,MAAAA,IAAI,EAAE/C,OAAO,CAACgE,QADN;AAERf,MAAAA,OAAO,EAAE;AACR1C,QAAAA,MAAM,EAAE6C,KAAK,CAACG,MAAN,CAAa1B,EADb;AAERrB,QAAAA,SAAS,EAAE4C,KAAK,CAACG,MAAN,CAAaM,UAAb,CAAwBhC;AAF3B;AAFD,KAAD,CAAR;;AAOA,QAAIuB,KAAK,CAACG,MAAN,CAAaM,UAAb,CAAwBhC,EAAxB,IAA8B,CAAlC,EAAqC;AACpC,YAAMI,GAAG,GAAGf,cAAc,CAACoB,IAAf,CAAqBL,GAAD,IAASA,GAAG,CAACJ,EAAJ,IAAUuB,KAAK,CAACG,MAAN,CAAa1B,EAApD,CAAZ;AACAwB,MAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCrB,GAAjC;AACAR,MAAAA,kBAAkB,CAACQ,GAAD,CAAlB;AACAN,MAAAA,eAAe,CAAC,CAAD,CAAf;AACA;;AAED,QAAIyB,KAAK,CAACG,MAAN,CAAaM,UAAb,CAAwBhC,EAAxB,IAA8B,CAAlC,EAAqC;AACpC,YAAMI,GAAG,GAAGjB,aAAa,CAACsB,IAAd,CAAoBL,GAAD,IAASA,GAAG,CAACJ,EAAJ,IAAUuB,KAAK,CAACG,MAAN,CAAa1B,EAAnD,CAAZ,CADoC,CAEpC;;AACAJ,MAAAA,kBAAkB,CAACQ,GAAD,CAAlB;AACAN,MAAAA,eAAe,CAAC,CAAD,CAAf;AACA;;AACD,QAAIyB,KAAK,CAACG,MAAN,CAAaM,UAAb,CAAwBhC,EAAxB,IAA8B,CAAlC,EAAqC;AACpC,YAAMI,GAAG,GAAGnB,aAAa,CAACwB,IAAd,CAAoBL,GAAD,IAASA,GAAG,CAACJ,EAAJ,IAAUuB,KAAK,CAACG,MAAN,CAAa1B,EAAnD,CAAZ,CADoC,CAEpC;;AACAJ,MAAAA,kBAAkB,CAACQ,GAAD,CAAlB;AACAN,MAAAA,eAAe,CAAC,CAAD,CAAf;AACA;;AACD,QAAIyB,KAAK,CAACG,MAAN,CAAaM,UAAb,CAAwBhC,EAAxB,IAA8B,CAAlC,EAAqC;AACpC,YAAMI,GAAG,GAAGrB,aAAa,CAAC0B,IAAd,CAAoBL,GAAD,IAASA,GAAG,CAACJ,EAAJ,IAAUuB,KAAK,CAACG,MAAN,CAAa1B,EAAnD,CAAZ,CADoC,CAEpC;;AACAJ,MAAAA,kBAAkB,CAACQ,GAAD,CAAlB;AACAN,MAAAA,eAAe,CAAC,CAAD,CAAf;AACA;AACD,GApCD;;AAsCA,QAAMsC,cAAc,GAAIb,KAAD,IAAW;AACjCA,IAAAA,KAAK,CAACG,MAAN,CAAaO,SAAb,CAAuBI,MAAvB,CAA8B,UAA9B;AACA,GAFD;;AAIA,QAAMC,WAAW,GAAIf,KAAD,IAAW;AAC9BA,IAAAA,KAAK,CAACgB,cAAN;AACA,UAAMC,OAAO,GAAGC,QAAQ,CAACC,aAAT,CAAuB,WAAvB,CAAhB;AACAlB,IAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBF,KAAK,CAACG,MAAN,CAAa1B,EAArC;;AAEA,QAAIuB,KAAK,CAACG,MAAN,CAAa1B,EAAb,IAAmB,CAAvB,EAA0B;AACzB;AACA,UAAIH,YAAY,IAAI,CAApB,EAAuB;AACtB;AACA;;AACD,UAAIS,eAAe,CAACX,eAAe,CAACK,EAAjB,CAAnB,EAAyC;AACxC;AACA;;AAEDhB,MAAAA,gBAAgB,CAAE2D,IAAD,IAAU;AAC1B,eAAO,CAAC,GAAGA,IAAJ,EAAUhD,eAAV,CAAP;AACA,OAFe,CAAhB;AAIAI,MAAAA,eAAe,CAACF,YAAD,EAAeF,eAAf,CAAf;AACA,KAdD,MAcO,IAAI4B,KAAK,CAACG,MAAN,CAAa1B,EAAb,IAAmB,CAAvB,EAA0B;AAChC,UAAIH,YAAY,IAAI,CAApB,EAAuB;AACtB;AACA;;AAED,UAAIa,gBAAgB,CAACf,eAAe,CAACK,EAAjB,CAApB,EAA0C;AACzC;AACA;;AACDd,MAAAA,iBAAiB,CAAEyD,IAAD,IAAU;AAC3B,eAAO,CAAC,GAAGA,IAAJ,EAAUhD,eAAV,CAAP;AACA,OAFgB,CAAjB;AAGAI,MAAAA,eAAe,CAACF,YAAD,EAAeF,eAAf,CAAf;AACA,KAZM,MAYA,IAAI4B,KAAK,CAACG,MAAN,CAAa1B,EAAb,IAAmB,CAAvB,EAA0B;AAChC,UAAIH,YAAY,IAAI,CAApB,EAAuB;AACtB;AACA;;AAED,UAAIc,eAAe,CAAChB,eAAe,CAACK,EAAjB,CAAnB,EAAyC;AACxC;AACA;;AACDZ,MAAAA,gBAAgB,CAAEuD,IAAD,IAAU;AAC1B,eAAO,CAAC,GAAGA,IAAJ,EAAUhD,eAAV,CAAP;AACA,OAFe,CAAhB;AAGAI,MAAAA,eAAe,CAACF,YAAD,EAAeF,eAAf,CAAf;AACA,KAZM,MAYA,IAAI4B,KAAK,CAACG,MAAN,CAAa1B,EAAb,IAAmB,CAAvB,EAA0B;AAChC,UAAIH,YAAY,IAAI,CAApB,EAAuB;AACtB;AACA;;AACD,UAAIe,gBAAgB,CAACjB,eAAe,CAACK,EAAjB,CAApB,EAA0C;AACzC;AACA;;AACDV,MAAAA,iBAAiB,CAAEqD,IAAD,IAAU;AAC3B,eAAO,CAAC,GAAGA,IAAJ,EAAUhD,eAAV,CAAP;AACA,OAFgB,CAAjB;AAGAI,MAAAA,eAAe,CAACF,YAAD,EAAeF,eAAf,CAAf;AACA;AACD,GAvDD;;AAyDA,QAAMiD,SAAS,GAAIrB,KAAD,IAAW;AAC5BC,IAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;AACAF,IAAAA,KAAK,CAACgB,cAAN;AACA,GAHD;;AAKA,sBACC;AAAK,IAAA,SAAS,EAAC,yBAAf;AAAA,2BACC;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA,6BACC;AAAK,QAAA,SAAS,EAAC,SAAf;AAAA,gCACC;AAAK,UAAA,SAAS,EAAC,KAAf;AAAA,iCACC,QAAC,WAAD;AAEC,YAAA,EAAE,EAAC,GAFJ;AAGC,YAAA,KAAK,EAAC,qBAHP;AAIC,YAAA,QAAQ,EAAEhD,KAAK,CAAClB,QAAN,CAAeC,KAJ1B;AAKC,YAAA,YAAY,EAAE2C,iBALf;AAMC,YAAA,WAAW,EAAEc,gBANd;AAOC,YAAA,SAAS,EAAEK,cAPZ;AAQC,YAAA,MAAM,EAAEE,WART;AASC,YAAA,UAAU,EAAEM,SATb;AAUC,YAAA,QAAQ,EAAEtB;AAVX,aACK,GADL;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,gBADD,eAeC;AAAK,UAAA,SAAS,EAAC,KAAf;AAAA,iCACC,QAAC,WAAD;AAEC,YAAA,EAAE,EAAC,GAFJ;AAGC,YAAA,KAAK,EAAC,yBAHP;AAIC,YAAA,QAAQ,EAAE/B,KAAK,CAAClB,QAAN,CAAeE,MAJ1B;AAKC,YAAA,YAAY,EAAE0C,iBALf;AAMC,YAAA,WAAW,EAAEc,gBANd;AAOC,YAAA,SAAS,EAAEK,cAPZ;AAQC,YAAA,MAAM,EAAEE,WART;AASC,YAAA,UAAU,EAAEM,SATb;AAUC,YAAA,QAAQ,EAAEtB;AAVX,aACK,GADL;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,gBAfD,eA6BC;AAAK,UAAA,SAAS,EAAC,KAAf;AAAA,iCACC,QAAC,WAAD;AAEC,YAAA,EAAE,EAAC,GAFJ;AAGC,YAAA,KAAK,EAAC,6BAHP;AAIC,YAAA,QAAQ,EAAE/B,KAAK,CAAClB,QAAN,CAAeG,KAJ1B;AAKC,YAAA,YAAY,EAAEyC,iBALf;AAMC,YAAA,WAAW,EAAEc,gBANd;AAOC,YAAA,SAAS,EAAEK,cAPZ;AAQC,YAAA,MAAM,EAAEE,WART;AASC,YAAA,UAAU,EAAEM,SATb;AAUC,YAAA,QAAQ,EAAEtB;AAVX,aACK,GADL;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,gBA7BD,eA2CC;AAAK,UAAA,SAAS,EAAC,KAAf;AAAA,iCACC,QAAC,WAAD;AAEC,YAAA,EAAE,EAAC,GAFJ;AAGC,YAAA,KAAK,EAAC,+BAHP;AAIC,YAAA,QAAQ,EAAE/B,KAAK,CAAClB,QAAN,CAAeI,MAJ1B;AAKC,YAAA,YAAY,EAAEwC,iBALf;AAMC,YAAA,WAAW,EAAEc,gBANd;AAOC,YAAA,SAAS,EAAEK,cAPZ;AAQC,YAAA,MAAM,EAAEE,WART;AASC,YAAA,UAAU,EAAEM,SATb;AAUC,YAAA,QAAQ,EAAEtB;AAVX,aACK,GADL;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,gBA3CD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,UADD,CA+DC;AAEA;AAjED;AAmEA,CA7RD;;GAAMzC,Q;;KAAAA,Q;AA8RN,eAAeA,QAAf","sourcesContent":["import React, { useState, useEffect, useReducer } from 'react';\nimport './Thoughts.css';\nimport ThoughtCard from './ThoughtCard';\n\nimport Thought from './Thought';\n\nimport reducer, { ACTIONS } from './reducer';\n\nconst initialState = {\n\tthoughts: {\n\t\tfirst: [],\n\t\tsecond: [],\n\t\tthird: [],\n\t\tfourth: [],\n\t},\n\tdragId: null,\n\tdragSrcId: null,\n\tdataLoading: true,\n};\n\nconst Thoughts = (props) => {\n\tconst [firstThoughts, setFirstThoughts] = useState([]);\n\tconst [secondThoghts, setSecondThoughts] = useState([]);\n\tconst [thirdThoughts, setThirdThoughts] = useState([]);\n\tconst [fourthThoughts, setFourthThoughts] = useState([]);\n\n\tconst [state, dispatch] = useReducer(reducer, initialState);\n\n\tconst [newThought, setNewThought] = useState('');\n\n\tconst [draggingThought, setDraggingThought] = useState(null);\n\n\tconst [dragSourceId, setDragSourceId] = useState(null);\n\n\t////////////////////////////////////// HELPER FUNCTIONS       /////////////////////\n\tconst cleanSourceCard = (id, draggingThg) => {\n\t\tif (id == 1) {\n\t\t\tconst filtered = firstThoughts.filter((thg) => thg.id != draggingThg.id);\n\t\t\tsetFirstThoughts(filtered);\n\t\t} else if (id == 2) {\n\t\t\tconst filtered = secondThoghts.filter((thg) => thg.id != draggingThg.id);\n\t\t\tsetSecondThoughts(filtered);\n\t\t} else if (id == 3) {\n\t\t\tconst filtered = thirdThoughts.filter((thg) => thg.id != draggingThg.id);\n\t\t\tsetThirdThoughts(filtered);\n\t\t} else if (id == 4) {\n\t\t\tconst filtered = fourthThoughts.filter((tgh) => tgh.id != draggingThg.id);\n\t\t\tsetFourthThoughts(filtered);\n\t\t}\n\t};\n\n\tconst findInFirstCard = (draggingTgh) => {\n\t\tconst found = firstThoughts.find((thg) => thg.id == draggingTgh.id);\n\t\tif (found) {\n\t\t\treturn true;\n\t\t}\n\t};\n\n\tconst findInSecondCard = (draggingTgh) => {\n\t\tconst found = secondThoghts.find((thg) => thg.id == draggingTgh.id);\n\t\tif (found) {\n\t\t\treturn true;\n\t\t}\n\t};\n\n\tconst findInThirdCard = (draggingTgh) => {\n\t\tconst found = thirdThoughts.find((thg) => thg.id == draggingTgh.id);\n\t\tif (found) {\n\t\t\treturn true;\n\t\t}\n\t};\n\n\tconst findInFourthCard = (draggingTgh) => {\n\t\tconst found = fourthThoughts.find((thg) => thg.id == draggingTgh.id);\n\t\tif (found) {\n\t\t\treturn true;\n\t\t}\n\t};\n\n\tconst filterThoughts = (parentCardId, thgId) => {\n\t\tif (parentCardId == 1) {\n\t\t\tconst filterd = firstThoughts.filter((thg) => thg.id != thgId);\n\t\t\treturn filterd;\n\t\t}\n\t\tif (parentCardId == 2) {\n\t\t\tconst filterd = secondThoghts.filter((thg) => thg.id != thgId);\n\t\t\treturn filterd;\n\t\t}\n\t\tif (parentCardId == 3) {\n\t\t\tconst filterd = thirdThoughts.filter((thg) => thg.id != thgId);\n\t\t\treturn filterd;\n\t\t}\n\n\t\tif (parentCardId == 4) {\n\t\t\tconst filterd = fourthThoughts.filter((thg) => thg.id != thgId);\n\t\t\treturn filterd;\n\t\t}\n\t};\n\t/////////////////////////////////// NATIVE ADD AND DELETE FUNCTIONALITY FOR ITEMS ///////////\n\n\tconst newThoughtHandler = (newThought) => {\n\t\tdispatch({\n\t\t\ttype: ACTIONS.ADD_NEW_THOUGHT,\n\t\t\tpayload: {\n\t\t\t\tnewThought: newThought,\n\t\t\t\tcardId: newThought.cardId,\n\t\t\t},\n\t\t});\n\t};\n\n\tconst deleteThgHandler = (event) => {\n\t\tconsole.log(event.target.id);\n\t\tconst CARD_ID = event.target.getAttribute('parentId');\n\t\tconsole.log('parent Card id', CARD_ID);\n\n\t\tdispatch({\n\t\t\ttype: ACTIONS.DELETE_THOUGHT,\n\t\t\tpayload: {\n\t\t\t\tcardId: CARD_ID,\n\t\t\t\tthoughtId: event.target.id,\n\t\t\t},\n\t\t});\n\n\t\t// if (CARD_ID == 1) {\n\t\t// \tsetFirstThoughts(filterThoughts(1, event.target.id));\n\t\t// } else if (CARD_ID == 2) {\n\t\t// \tsetSecondThoughts(filterThoughts(2, event.target.id));\n\t\t// } else if (CARD_ID == 3) {\n\t\t// \tsetThirdThoughts(filterThoughts(3, event.target.id));\n\t\t// } else {\n\t\t// \tsetFourthThoughts(filterThoughts(4, event.target.id));\n\t\t// }\n\t};\n\n\tconst dragStartHandler = (event) => {\n\t\tconsole.log('drag is started', event.target.parentNode.id);\n\t\tevent.target.classList.add('dragging');\n\n\t\tdispatch({\n\t\t\ttype: ACTIONS.DRAGGING,\n\t\t\tpayload: {\n\t\t\t\tdragId: event.target.id,\n\t\t\t\tdragSrcId: event.target.parentNode.id,\n\t\t\t},\n\t\t});\n\t\tif (event.target.parentNode.id == 4) {\n\t\t\tconst thg = fourthThoughts.find((thg) => thg.id == event.target.id);\n\t\t\tconsole.log('dragging thgought', thg);\n\t\t\tsetDraggingThought(thg);\n\t\t\tsetDragSourceId(4);\n\t\t}\n\n\t\tif (event.target.parentNode.id == 3) {\n\t\t\tconst thg = thirdThoughts.find((thg) => thg.id == event.target.id);\n\t\t\t//console.log('dragging thought',thg)\n\t\t\tsetDraggingThought(thg);\n\t\t\tsetDragSourceId(3);\n\t\t}\n\t\tif (event.target.parentNode.id == 2) {\n\t\t\tconst thg = secondThoghts.find((thg) => thg.id == event.target.id);\n\t\t\t//console.log('dragging thought',thg)\n\t\t\tsetDraggingThought(thg);\n\t\t\tsetDragSourceId(2);\n\t\t}\n\t\tif (event.target.parentNode.id == 1) {\n\t\t\tconst thg = firstThoughts.find((thg) => thg.id == event.target.id);\n\t\t\t//console.log('dragging thought',thg)\n\t\t\tsetDraggingThought(thg);\n\t\t\tsetDragSourceId(1);\n\t\t}\n\t};\n\n\tconst dragEndHandler = (event) => {\n\t\tevent.target.classList.remove('dragging');\n\t};\n\n\tconst dropHandler = (event) => {\n\t\tevent.preventDefault();\n\t\tconst element = document.querySelector('.dragging');\n\t\tconsole.log('drop end', event.target.id);\n\n\t\tif (event.target.id == 1) {\n\t\t\t// check if already exists\n\t\t\tif (dragSourceId == 1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (findInFirstCard(draggingThought.id)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsetFirstThoughts((prev) => {\n\t\t\t\treturn [...prev, draggingThought];\n\t\t\t});\n\n\t\t\tcleanSourceCard(dragSourceId, draggingThought);\n\t\t} else if (event.target.id == 2) {\n\t\t\tif (dragSourceId == 2) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (findInSecondCard(draggingThought.id)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsetSecondThoughts((prev) => {\n\t\t\t\treturn [...prev, draggingThought];\n\t\t\t});\n\t\t\tcleanSourceCard(dragSourceId, draggingThought);\n\t\t} else if (event.target.id == 3) {\n\t\t\tif (dragSourceId == 3) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (findInThirdCard(draggingThought.id)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsetThirdThoughts((prev) => {\n\t\t\t\treturn [...prev, draggingThought];\n\t\t\t});\n\t\t\tcleanSourceCard(dragSourceId, draggingThought);\n\t\t} else if (event.target.id == 4) {\n\t\t\tif (dragSourceId == 4) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (findInFourthCard(draggingThought.id)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsetFourthThoughts((prev) => {\n\t\t\t\treturn [...prev, draggingThought];\n\t\t\t});\n\t\t\tcleanSourceCard(dragSourceId, draggingThought);\n\t\t}\n\t};\n\n\tconst allowDrop = (event) => {\n\t\tconsole.log('dragging over element');\n\t\tevent.preventDefault();\n\t};\n\n\treturn (\n\t\t<div className='thought-cards-container'>\n\t\t\t<div className='container'>\n\t\t\t\t<div className='row g-0'>\n\t\t\t\t\t<div className='col'>\n\t\t\t\t\t\t<ThoughtCard\n\t\t\t\t\t\t\tkey='1'\n\t\t\t\t\t\t\tid='1'\n\t\t\t\t\t\t\ttitle='Very likely or Real'\n\t\t\t\t\t\t\tthoughts={state.thoughts.first}\n\t\t\t\t\t\t\tonNewThought={newThoughtHandler}\n\t\t\t\t\t\t\tonDragStart={dragStartHandler}\n\t\t\t\t\t\t\tonDragEnd={dragEndHandler}\n\t\t\t\t\t\t\tonDrop={dropHandler}\n\t\t\t\t\t\t\tonDragOver={allowDrop}\n\t\t\t\t\t\t\tonDelete={deleteThgHandler}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='col'>\n\t\t\t\t\t\t<ThoughtCard\n\t\t\t\t\t\t\tkey='2'\n\t\t\t\t\t\t\tid='2'\n\t\t\t\t\t\t\ttitle='somewhat likely or real'\n\t\t\t\t\t\t\tthoughts={state.thoughts.second}\n\t\t\t\t\t\t\tonNewThought={newThoughtHandler}\n\t\t\t\t\t\t\tonDragStart={dragStartHandler}\n\t\t\t\t\t\t\tonDragEnd={dragEndHandler}\n\t\t\t\t\t\t\tonDrop={dropHandler}\n\t\t\t\t\t\t\tonDragOver={allowDrop}\n\t\t\t\t\t\t\tonDelete={deleteThgHandler}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='col'>\n\t\t\t\t\t\t<ThoughtCard\n\t\t\t\t\t\t\tkey='3'\n\t\t\t\t\t\t\tid='3'\n\t\t\t\t\t\t\ttitle='Probably not or unrealistic'\n\t\t\t\t\t\t\tthoughts={state.thoughts.third}\n\t\t\t\t\t\t\tonNewThought={newThoughtHandler}\n\t\t\t\t\t\t\tonDragStart={dragStartHandler}\n\t\t\t\t\t\t\tonDragEnd={dragEndHandler}\n\t\t\t\t\t\t\tonDrop={dropHandler}\n\t\t\t\t\t\t\tonDragOver={allowDrop}\n\t\t\t\t\t\t\tonDelete={deleteThgHandler}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='col'>\n\t\t\t\t\t\t<ThoughtCard\n\t\t\t\t\t\t\tkey='4'\n\t\t\t\t\t\t\tid='4'\n\t\t\t\t\t\t\ttitle='Highly unlikey or unrealistic'\n\t\t\t\t\t\t\tthoughts={state.thoughts.fourth}\n\t\t\t\t\t\t\tonNewThought={newThoughtHandler}\n\t\t\t\t\t\t\tonDragStart={dragStartHandler}\n\t\t\t\t\t\t\tonDragEnd={dragEndHandler}\n\t\t\t\t\t\t\tonDrop={dropHandler}\n\t\t\t\t\t\t\tonDragOver={allowDrop}\n\t\t\t\t\t\t\tonDelete={deleteThgHandler}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t// <div className='thought-cards-container'>\n\n\t\t// </div>\n\t);\n};\nexport default Thoughts;\n"]},"metadata":{},"sourceType":"module"}