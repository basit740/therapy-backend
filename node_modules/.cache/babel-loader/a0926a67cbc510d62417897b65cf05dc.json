{"ast":null,"code":"var _jsxFileName = \"/Users/apple/Documents/work/fiverr/2021/December/boulmpos/Backups/latest2/src/components/Profile/Profile.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useContext } from 'react';\nimport AuthContext from '../../store/auth-context';\nimport { useNavigate } from 'react-router-dom';\nimport classes from './Profile.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UserProfile = () => {\n  _s();\n\n  const [fullName, setFullName] = useState('');\n  const [email, setEmail] = useState('');\n  const authCtx = useContext(AuthContext);\n  const navigate = useNavigate();\n  useEffect(() => {\n    fetch(process.env.REACT_APP_API_URL + '/auth/me', {\n      method: 'GET',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + localStorage.getItem('token')\n      }\n    }).then(response => {\n      return response.json();\n    }).then(data => {\n      console.log(data);\n\n      if (data.error === 'jwt expired') {\n        authCtx.logout();\n        navigate('/auth', {\n          replace: true\n        });\n        return;\n      }\n\n      setFullName(data.data.firstName + ' ' + data.data.lastName);\n      setEmail(data.data.email);\n    });\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes['user-profile'],\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.card,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: fullName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: classes.title,\n        children: email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"My Therapy Tool\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"Contact\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 3\n  }, this);\n};\n\n_s(UserProfile, \"oExEmWAVGAJtXaPdE5tQugRDgII=\", false, function () {\n  return [useNavigate];\n});\n\n_c = UserProfile;\nexport default UserProfile;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserProfile\");","map":{"version":3,"sources":["/Users/apple/Documents/work/fiverr/2021/December/boulmpos/Backups/latest2/src/components/Profile/Profile.js"],"names":["React","useEffect","useState","useContext","AuthContext","useNavigate","classes","UserProfile","fullName","setFullName","email","setEmail","authCtx","navigate","fetch","process","env","REACT_APP_API_URL","method","headers","Accept","Authorization","localStorage","getItem","then","response","json","data","console","log","error","logout","replace","firstName","lastName","card","title"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,UAArC,QAAuD,OAAvD;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AACA,SAASC,WAAT,QAA4B,kBAA5B;AAEA,OAAOC,OAAP,MAAoB,sBAApB;;;AACA,MAAMC,WAAW,GAAG,MAAM;AAAA;;AACzB,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BP,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACQ,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAMU,OAAO,GAAGT,UAAU,CAACC,WAAD,CAA1B;AACA,QAAMS,QAAQ,GAAGR,WAAW,EAA5B;AAEAJ,EAAAA,SAAS,CAAC,MAAM;AACfa,IAAAA,KAAK,CAACC,OAAO,CAACC,GAAR,CAAYC,iBAAZ,GAAgC,UAAjC,EAA6C;AACjDC,MAAAA,MAAM,EAAE,KADyC;AAEjDC,MAAAA,OAAO,EAAE;AACRC,QAAAA,MAAM,EAAE,kBADA;AAER,wBAAgB,kBAFR;AAGRC,QAAAA,aAAa,EAAE,YAAYC,YAAY,CAACC,OAAb,CAAqB,OAArB;AAHnB;AAFwC,KAA7C,CAAL,CAQEC,IARF,CAQQC,QAAD,IAAc;AACnB,aAAOA,QAAQ,CAACC,IAAT,EAAP;AACA,KAVF,EAWEF,IAXF,CAWQG,IAAD,IAAU;AACfC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;;AACA,UAAIA,IAAI,CAACG,KAAL,KAAe,aAAnB,EAAkC;AACjClB,QAAAA,OAAO,CAACmB,MAAR;AACAlB,QAAAA,QAAQ,CAAC,OAAD,EAAU;AAAEmB,UAAAA,OAAO,EAAE;AAAX,SAAV,CAAR;AACA;AACA;;AACDvB,MAAAA,WAAW,CAACkB,IAAI,CAACA,IAAL,CAAUM,SAAV,GAAsB,GAAtB,GAA4BN,IAAI,CAACA,IAAL,CAAUO,QAAvC,CAAX;AACAvB,MAAAA,QAAQ,CAACgB,IAAI,CAACA,IAAL,CAAUjB,KAAX,CAAR;AACA,KApBF;AAqBA,GAtBQ,CAAT;AAuBA,sBACC;AAAK,IAAA,SAAS,EAAEJ,OAAO,CAAC,cAAD,CAAvB;AAAA,2BACC;AAAK,MAAA,SAAS,EAAEA,OAAO,CAAC6B,IAAxB;AAAA,8BAEC;AAAA,kBAAK3B;AAAL;AAAA;AAAA;AAAA;AAAA,cAFD,eAGC;AAAG,QAAA,SAAS,EAAEF,OAAO,CAAC8B,KAAtB;AAAA,kBAA8B1B;AAA9B;AAAA;AAAA;AAAA;AAAA,cAHD,eAIC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJD,eAmBC;AAAA,+BACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,cAnBD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,UADD;AA2BA,CAxDD;;GAAMH,W;UAIYF,W;;;KAJZE,W;AA0DN,eAAeA,WAAf","sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\nimport AuthContext from '../../store/auth-context';\nimport { useNavigate } from 'react-router-dom';\n\nimport classes from './Profile.module.css';\nconst UserProfile = () => {\n\tconst [fullName, setFullName] = useState('');\n\tconst [email, setEmail] = useState('');\n\tconst authCtx = useContext(AuthContext);\n\tconst navigate = useNavigate();\n\n\tuseEffect(() => {\n\t\tfetch(process.env.REACT_APP_API_URL + '/auth/me', {\n\t\t\tmethod: 'GET',\n\t\t\theaders: {\n\t\t\t\tAccept: 'application/json',\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\tAuthorization: 'Bearer ' + localStorage.getItem('token'),\n\t\t\t},\n\t\t})\n\t\t\t.then((response) => {\n\t\t\t\treturn response.json();\n\t\t\t})\n\t\t\t.then((data) => {\n\t\t\t\tconsole.log(data);\n\t\t\t\tif (data.error === 'jwt expired') {\n\t\t\t\t\tauthCtx.logout();\n\t\t\t\t\tnavigate('/auth', { replace: true });\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tsetFullName(data.data.firstName + ' ' + data.data.lastName);\n\t\t\t\tsetEmail(data.data.email);\n\t\t\t});\n\t});\n\treturn (\n\t\t<div className={classes['user-profile']}>\n\t\t\t<div className={classes.card}>\n\t\t\t\t{/* <img src=\"/w3images/team2.jpg\" alt=\"John\" style=\"width:100%\"> */}\n\t\t\t\t<h1>{fullName}</h1>\n\t\t\t\t<p className={classes.title}>{email}</p>\n\t\t\t\t<p>My Therapy Tool</p>\n\t\t\t\t{/* <div style={{ margin: '24px 0' }}>\n\t\t\t\t\t<a href='#'>\n\t\t\t\t\t\t<i className='fa fa-dribbble'></i>\n\t\t\t\t\t</a>\n\t\t\t\t\t<a href='#'>\n\t\t\t\t\t\t<i className='fa fa-twitter'></i>\n\t\t\t\t\t</a>\n\t\t\t\t\t<a href='#'>\n\t\t\t\t\t\t<i className='fa fa-linkedin'></i>\n\t\t\t\t\t</a>\n\t\t\t\t\t<a href='#'>\n\t\t\t\t\t\t<i className='fa fa-facebook'></i>\n\t\t\t\t\t</a>\n\t\t\t\t</div> */}\n\t\t\t\t<p>\n\t\t\t\t\t<button>Contact</button>\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default UserProfile;\n"]},"metadata":{},"sourceType":"module"}