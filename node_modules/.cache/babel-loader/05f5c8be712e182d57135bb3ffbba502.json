{"ast":null,"code":"export const initialState = {\n  goals: [],\n  isLoading: true,\n  first: [],\n  second: [],\n  third: [],\n  fourth: [],\n  fifth: []\n};\nlet currentYear = new Date().getFullYear();\nexport const ACTIONS = {\n  ON_NEW_GOAL: 'on_new_goal',\n  DATA_FROM_SERVER: 'data_from_server',\n  DATA_FROM_LOCAL_STATE: 'data_from_local_state'\n};\nexport default function redeucer(state, action) {\n  const pState = { ...state\n  };\n\n  switch (action.type) {\n    case ACTIONS.ON_NEW_GOAL:\n      pState.goals = [...pState.goals, action.payload.newGoal];\n      pState.first = pState.goals.filter(g => g.goalYear === currentYear.toString());\n      pState.second = pState.goals.filter(g => g.goalYear === (currentYear + 1).toString());\n      pState.third = pState.goals.filter(g => g.goalYear === (currentYear + 2).toString());\n      pState.fourth = pState.goals.filter(g => g.goalYear === (currentYear + 3).toString());\n      pState.fifth = pState.goals.filter(g => g.goalYear === (currentYear + 4).toString);\n      break;\n\n    case ACTIONS.DATA_FROM_SERVER:\n      action.payload.goals.map(g => {\n        g['id'] = g._id;\n        g.goalYear = g.goalYear.toString();\n        return g;\n      });\n      pState.goals = [...action.payload.goals];\n      pState.first = pState.goals.filter(g => g.goalYear === currentYear.toString());\n      pState.second = pState.goals.filter(g => g.goalYear === (currentYear + 1).toString());\n      pState.third = pState.goals.filter(g => g.goalYear === (currentYear + 2).toString());\n      pState.fourth = pState.goals.filter(g => g.goalYear === (currentYear + 3).toString());\n      pState.fifth = pState.goals.filter(g => g.goalYear === (currentYear + 4).toString());\n      pState.isLoading = false;\n      break;\n\n    case ACTIONS.DATA_FROM_LOCAL_STATE:\n      pState.goals = [];\n      pState.isLoading = false;\n\n    default: // do nothing\n\n  }\n\n  return pState;\n}","map":{"version":3,"sources":["/Users/apple/Documents/work/fiverr/2021/December/boulmpos/Backups/latest2/src/components/Dashboard/CreateNewVersion/StepNine/reducer.js"],"names":["initialState","goals","isLoading","first","second","third","fourth","fifth","currentYear","Date","getFullYear","ACTIONS","ON_NEW_GOAL","DATA_FROM_SERVER","DATA_FROM_LOCAL_STATE","redeucer","state","action","pState","type","payload","newGoal","filter","g","goalYear","toString","map","_id"],"mappings":"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","sourcesContent":["export const initialState = {\n\tgoals: [],\n\tisLoading: true,\n\tfirst: [],\n\tsecond: [],\n\tthird: [],\n\tfourth: [],\n\tfifth: [],\n};\n\nlet currentYear = new Date().getFullYear();\n\nexport const ACTIONS = {\n\tON_NEW_GOAL: 'on_new_goal',\n\tDATA_FROM_SERVER: 'data_from_server',\n\tDATA_FROM_LOCAL_STATE: 'data_from_local_state',\n};\nexport default function redeucer(state, action) {\n\tconst pState = { ...state };\n\n\tswitch (action.type) {\n\t\tcase ACTIONS.ON_NEW_GOAL:\n\t\t\tpState.goals = [...pState.goals, action.payload.newGoal];\n\t\t\tpState.first = pState.goals.filter(\n\t\t\t\t(g) => g.goalYear === currentYear.toString()\n\t\t\t);\n\t\t\tpState.second = pState.goals.filter(\n\t\t\t\t(g) => g.goalYear === (currentYear + 1).toString()\n\t\t\t);\n\t\t\tpState.third = pState.goals.filter(\n\t\t\t\t(g) => g.goalYear === (currentYear + 2).toString()\n\t\t\t);\n\t\t\tpState.fourth = pState.goals.filter(\n\t\t\t\t(g) => g.goalYear === (currentYear + 3).toString()\n\t\t\t);\n\t\t\tpState.fifth = pState.goals.filter(\n\t\t\t\t(g) => g.goalYear === (currentYear + 4).toString\n\t\t\t);\n\t\t\tbreak;\n\t\tcase ACTIONS.DATA_FROM_SERVER:\n\t\t\taction.payload.goals.map((g) => {\n\t\t\t\tg['id'] = g._id;\n\t\t\t\tg.goalYear = g.goalYear.toString();\n\n\t\t\t\treturn g;\n\t\t\t});\n\n\t\t\tpState.goals = [...action.payload.goals];\n\t\t\tpState.first = pState.goals.filter(\n\t\t\t\t(g) => g.goalYear === currentYear.toString()\n\t\t\t);\n\t\t\tpState.second = pState.goals.filter(\n\t\t\t\t(g) => g.goalYear === (currentYear + 1).toString()\n\t\t\t);\n\t\t\tpState.third = pState.goals.filter(\n\t\t\t\t(g) => g.goalYear === (currentYear + 2).toString()\n\t\t\t);\n\t\t\tpState.fourth = pState.goals.filter(\n\t\t\t\t(g) => g.goalYear === (currentYear + 3).toString()\n\t\t\t);\n\t\t\tpState.fifth = pState.goals.filter(\n\t\t\t\t(g) => g.goalYear === (currentYear + 4).toString()\n\t\t\t);\n\t\t\tpState.isLoading = false;\n\t\t\tbreak;\n\t\tcase ACTIONS.DATA_FROM_LOCAL_STATE:\n\t\t\tpState.goals = [];\n\t\t\tpState.isLoading = false;\n\n\t\tdefault:\n\t\t// do nothing\n\t}\n\treturn pState;\n}\n"]},"metadata":{},"sourceType":"module"}