{"ast":null,"code":"var _jsxFileName = \"/Users/apple/Documents/work/fiverr/2021/December/boulmpos/Backups/latest2/src/components/Dashboard/MyVersions/MyVersionsLeft.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useReducer, useState, useContext } from 'react';\nimport NewVersionContext from '../../../store/new-version-context';\nimport { useNavigate } from 'react-router-dom';\nimport { getVersions } from '../../../api/version';\nimport './MyVersionsLeft.css';\nimport MyVersion from './MyVersion';\nimport MyVersionsLoading from './MyVersionsLoading';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst iState = {\n  versions: [],\n  isLoading: true\n};\n\nconst reducer = (state, action) => {\n  const pState = { ...state\n  };\n\n  if (action.type === 'DATA_FROM_SERVER') {\n    console.log(action);\n    pState.versions = [...action.payload.versions];\n    pState.versions.map(v => {\n      v['id'] = v._id;\n    });\n    pState.isLoading = false;\n  }\n\n  return pState;\n};\n\nconst MyVersionsLeft = () => {\n  _s();\n\n  const [state, dispatch] = useReducer(reducer, iState);\n  const navigate = useNavigate();\n  const newVerCtx = useContext(NewVersionContext);\n\n  const actionHandler = (id, stepsCount) => {\n    newVerCtx.versionIdHandler(id);\n    newVerCtx.currentStepHandler(stepsCount + 1);\n    navigate('/dashboard/newjourney');\n  };\n\n  useEffect(() => {\n    (async () => {\n      const response = await getVersions();\n      console.log('in useEffect 1', response.data);\n\n      if (response.success && response.data.length > 0) {\n        dispatch({\n          type: 'DATA_FROM_SERVER',\n          payload: {\n            versions: response.data\n          }\n        });\n      }\n    })();\n  }, []);\n  useEffect(() => {\n    console.log(state.versions);\n  }, [state.versions]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"my-versions-left\",\n    style: {\n      overflowY: 'scroll'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n      children: \"MY VERSIONS\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      cellSpacing: \"0\",\n      cellPadding: \"0\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Action\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: [state.isLoading && /*#__PURE__*/_jsxDEV(MyVersionsLoading, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 26\n        }, this), state.versions.length > 0 && state.versions.map(vr => {\n          return /*#__PURE__*/_jsxDEV(MyVersion, {\n            id: vr._id,\n            date: vr.createdAt,\n            status: vr.status,\n            stepsCount: vr.stepsCount,\n            onAction: actionHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 9\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 3\n  }, this);\n};\n\n_s(MyVersionsLeft, \"vNLBd9XPxKY87I4D8t1fd4ph4OU=\", false, function () {\n  return [useNavigate];\n});\n\n_c = MyVersionsLeft;\nexport default MyVersionsLeft;\n\nvar _c;\n\n$RefreshReg$(_c, \"MyVersionsLeft\");","map":{"version":3,"sources":["/Users/apple/Documents/work/fiverr/2021/December/boulmpos/Backups/latest2/src/components/Dashboard/MyVersions/MyVersionsLeft.js"],"names":["React","useEffect","useReducer","useState","useContext","NewVersionContext","useNavigate","getVersions","MyVersion","MyVersionsLoading","iState","versions","isLoading","reducer","state","action","pState","type","console","log","payload","map","v","_id","MyVersionsLeft","dispatch","navigate","newVerCtx","actionHandler","id","stepsCount","versionIdHandler","currentStepHandler","response","data","success","length","overflowY","vr","createdAt","status"],"mappings":"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","sourcesContent":["import React, { useEffect, useReducer, useState, useContext } from 'react';\n\nimport NewVersionContext from '../../../store/new-version-context';\nimport { useNavigate } from 'react-router-dom';\n\nimport { getVersions } from '../../../api/version';\nimport './MyVersionsLeft.css';\n\nimport MyVersion from './MyVersion';\n\nimport MyVersionsLoading from './MyVersionsLoading';\n\nconst iState = {\n\tversions: [],\n\tisLoading: true,\n};\n\nconst reducer = (state, action) => {\n\tconst pState = { ...state };\n\n\tif (action.type === 'DATA_FROM_SERVER') {\n\t\tconsole.log(action);\n\t\tpState.versions = [...action.payload.versions];\n\t\tpState.versions.map((v) => {\n\t\t\tv['id'] = v._id;\n\t\t});\n\t\tpState.isLoading = false;\n\t}\n\treturn pState;\n};\nconst MyVersionsLeft = () => {\n\tconst [state, dispatch] = useReducer(reducer, iState);\n\n\tconst navigate = useNavigate();\n\n\tconst newVerCtx = useContext(NewVersionContext);\n\n\tconst actionHandler = (id, stepsCount) => {\n\t\tnewVerCtx.versionIdHandler(id);\n\t\tnewVerCtx.currentStepHandler(stepsCount + 1);\n\t\tnavigate('/dashboard/newjourney');\n\t};\n\n\tuseEffect(() => {\n\t\t(async () => {\n\t\t\tconst response = await getVersions();\n\t\t\tconsole.log('in useEffect 1', response.data);\n\t\t\tif (response.success && response.data.length > 0) {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: 'DATA_FROM_SERVER',\n\t\t\t\t\tpayload: {\n\t\t\t\t\t\tversions: response.data,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\t\t})();\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconsole.log(state.versions);\n\t}, [state.versions]);\n\treturn (\n\t\t<div className='my-versions-left' style={{ overflowY: 'scroll' }}>\n\t\t\t<h6>MY VERSIONS</h6>\n\t\t\t<table cellSpacing='0' cellPadding='0'>\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>Date</th>\n\t\t\t\t\t\t<th>Status</th>\n\t\t\t\t\t\t<th>Action</th>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\n\t\t\t\t<tbody>\n\t\t\t\t\t{state.isLoading && <MyVersionsLoading />}\n\t\t\t\t\t{/* {state.versions.length === 0 && (\n\t\t\t\t\t\t<h4 style={{ marginTop: '35px', textAlign: 'center' }}>\n\t\t\t\t\t\t\tNot Data Available\n\t\t\t\t\t\t</h4>\n\t\t\t\t\t)} */}\n\t\t\t\t\t{state.versions.length > 0 &&\n\t\t\t\t\t\tstate.versions.map((vr) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<MyVersion\n\t\t\t\t\t\t\t\t\tid={vr._id}\n\t\t\t\t\t\t\t\t\tdate={vr.createdAt}\n\t\t\t\t\t\t\t\t\tstatus={vr.status}\n\t\t\t\t\t\t\t\t\tstepsCount={vr.stepsCount}\n\t\t\t\t\t\t\t\t\tonAction={actionHandler}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t</div>\n\t);\n};\n\nexport default MyVersionsLeft;\n"]},"metadata":{},"sourceType":"module"}