{"ast":null,"code":"var _jsxFileName = \"/Users/apple/Documents/work/fiverr/2021/December/boulmpos/Backups/latest2/src/components/Profile/Profile.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useContext } from 'react';\nimport AuthContext from '../../store/auth-context';\nimport { useNavigate } from 'react-router-dom';\nimport { Skeleton } from '@mui/material';\nimport classes from './Profile.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UserProfile = () => {\n  _s();\n\n  const [isLoading, setIsLoading] = useState(true);\n  const [fullName, setFullName] = useState('');\n  const [email, setEmail] = useState('');\n  const authCtx = useContext(AuthContext);\n  const navigate = useNavigate();\n  useEffect(() => {\n    fetch(process.env.REACT_APP_API_URL + '/auth/me', {\n      method: 'GET',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + localStorage.getItem('token')\n      }\n    }).then(response => {\n      return response.json();\n    }).then(data => {\n      console.log(data);\n\n      if (data.error === 'jwt expired') {\n        authCtx.logout();\n        navigate('/auth', {\n          replace: true\n        });\n        return;\n      }\n\n      setFullName(data.data.firstName + ' ' + data.data.lastName);\n      setEmail(data.data.email);\n    });\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes['user-profile'],\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.card,\n      children: [isLoading && /*#__PURE__*/_jsxDEV(Skeleton, {\n        animation: \"wave\",\n        style: {\n          height: '120px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 6\n      }, this), isLoading && /*#__PURE__*/_jsxDEV(Skeleton, {\n        animation: \"wave\",\n        style: {\n          height: '70px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: fullName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: classes.title,\n        children: email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"My Therapy Tool\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"mb-2 p-1\",\n          style: {\n            minWidth: '100%',\n            background: 'black',\n            color: 'white'\n          },\n          children: \"Contact\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 3\n  }, this);\n};\n\n_s(UserProfile, \"c7F86Fy7Pq+9LsroYBRsPbNjipc=\", false, function () {\n  return [useNavigate];\n});\n\n_c = UserProfile;\nexport default UserProfile;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserProfile\");","map":{"version":3,"sources":["/Users/apple/Documents/work/fiverr/2021/December/boulmpos/Backups/latest2/src/components/Profile/Profile.js"],"names":["React","useEffect","useState","useContext","AuthContext","useNavigate","Skeleton","classes","UserProfile","isLoading","setIsLoading","fullName","setFullName","email","setEmail","authCtx","navigate","fetch","process","env","REACT_APP_API_URL","method","headers","Accept","Authorization","localStorage","getItem","then","response","json","data","console","log","error","logout","replace","firstName","lastName","card","height","title","minWidth","background","color"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\nimport AuthContext from '../../store/auth-context';\nimport { useNavigate } from 'react-router-dom';\n\nimport { Skeleton } from '@mui/material';\n\nimport classes from './Profile.module.css';\nconst UserProfile = () => {\n\tconst [isLoading, setIsLoading] = useState(true);\n\tconst [fullName, setFullName] = useState('');\n\tconst [email, setEmail] = useState('');\n\tconst authCtx = useContext(AuthContext);\n\tconst navigate = useNavigate();\n\n\tuseEffect(() => {\n\t\tfetch(process.env.REACT_APP_API_URL + '/auth/me', {\n\t\t\tmethod: 'GET',\n\t\t\theaders: {\n\t\t\t\tAccept: 'application/json',\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\tAuthorization: 'Bearer ' + localStorage.getItem('token'),\n\t\t\t},\n\t\t})\n\t\t\t.then((response) => {\n\t\t\t\treturn response.json();\n\t\t\t})\n\t\t\t.then((data) => {\n\t\t\t\tconsole.log(data);\n\t\t\t\tif (data.error === 'jwt expired') {\n\t\t\t\t\tauthCtx.logout();\n\t\t\t\t\tnavigate('/auth', { replace: true });\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tsetFullName(data.data.firstName + ' ' + data.data.lastName);\n\t\t\t\tsetEmail(data.data.email);\n\t\t\t});\n\t});\n\treturn (\n\t\t<div className={classes['user-profile']}>\n\t\t\t<div className={classes.card}>\n\t\t\t\t{/* <img src=\"/w3images/team2.jpg\" alt=\"John\" style=\"width:100%\"> */}\n\n\t\t\t\t{isLoading && (\n\t\t\t\t\t<Skeleton\n\t\t\t\t\t\tanimation='wave'\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\theight: '120px',\n\t\t\t\t\t\t}}\n\t\t\t\t\t></Skeleton>\n\t\t\t\t)}\n\n\t\t\t\t{isLoading && (\n\t\t\t\t\t<Skeleton\n\t\t\t\t\t\tanimation='wave'\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\theight: '70px',\n\t\t\t\t\t\t}}\n\t\t\t\t\t></Skeleton>\n\t\t\t\t)}\n\t\t\t\t<h1>{fullName}</h1>\n\t\t\t\t<p className={classes.title}>{email}</p>\n\t\t\t\t<p>My Therapy Tool</p>\n\t\t\t\t{/* <div style={{ margin: '24px 0' }}>\n\t\t\t\t\t<a href='#'>\n\t\t\t\t\t\t<i className='fa fa-dribbble'></i>\n\t\t\t\t\t</a>\n\t\t\t\t\t<a href='#'>\n\t\t\t\t\t\t<i className='fa fa-twitter'></i>\n\t\t\t\t\t</a>\n\t\t\t\t\t<a href='#'>\n\t\t\t\t\t\t<i className='fa fa-linkedin'></i>\n\t\t\t\t\t</a>\n\t\t\t\t\t<a href='#'>\n\t\t\t\t\t\t<i className='fa fa-facebook'></i>\n\t\t\t\t\t</a>\n\t\t\t\t</div> */}\n\t\t\t\t<p>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName='mb-2 p-1'\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tminWidth: '100%',\n\t\t\t\t\t\t\tbackground: 'black',\n\t\t\t\t\t\t\tcolor: 'white',\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\tContact\n\t\t\t\t\t</button>\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default UserProfile;\n"]},"metadata":{},"sourceType":"module"}