{"ast":null,"code":"//enum: ['likely', 'real', 'probably', 'unrealistic'],\nexport const ACTIONS = {\n  DROP_ON_FIRST: 'drop_on_first',\n  DROP_ON_SECOND: 'drop_on_second',\n  DROP_ON_THIRD: 'drop_on_third',\n  DROP_ON_FOURTH: 'drop_on_fourth',\n  DRAGGING: 'dragging',\n  DATA_FROM_SERVER: 'data_from_server',\n  DATA_FROM_STEP_ONE: 'data_from_step_one',\n  SET_DATA_LOADING: 'set_data_loading',\n  ADD_NEW_THOUGHT: 'add_new_thought',\n  DELETE_THOUGHT: 'delete_thought'\n};\nexport default function reducer(state, action) {\n  console.log('action', action);\n  let id = state.dragId; // let dragSrc = action.payload.dragSourceId;\n\n  let prevState = { ...state\n  };\n  let thought = null;\n  let data = null;\n\n  switch (action.type) {\n    case ACTIONS.ADD_NEW_THOUGHT:\n      switch (action.payload.cardId) {\n        case '1':\n          prevState.thoughts.first = [...prevState.thoughts.first, action.payload.newThought];\n          break;\n\n        case '2':\n          prevState.thoughts.second = [...prevState.thoughts.second, action.payload.newThought];\n          break;\n\n        case '3':\n          prevState.thoughts.third = [...prevState.thoughts.third, action.payload.newThought];\n          break;\n\n        default:\n          prevState.thoughts.fourth = [...prevState.thoughts.fourth, action.payload.newThought];\n      }\n\n      break;\n\n    case ACTIONS.DELETE_THOUGHT:\n      let filtered = null;\n\n      switch (action.payload.cardId) {\n        case '1':\n          filtered = prevState.thoughts.first.filter(thg => thg.id != action.payload.thoughtId);\n          prevState.thoughts.first = [...filtered];\n          break;\n\n        case '2':\n          filtered = prevState.thoughts.second.filter(thg => thg.id != action.payload.thoughtId);\n          prevState.thoughts.second = [...filtered];\n          break;\n\n        case '3':\n          filtered = prevState.thoughts.third.filter(thg => thg.id != action.payload.thoughtId);\n          prevState.thoughts.third = [...filtered];\n          break;\n\n        default:\n          filtered = prevState.thoughts.fourth.filter(thg => thg.id != action.payload.thoughtId);\n          prevState.thoughts.fourth = [...filtered];\n      }\n\n      break;\n\n    case ACTIONS.DRAGGING:\n      prevState.dragId = action.payload.dragId;\n      prevState.dragSrcId = action.payload.dragSrcId;\n      break;\n\n    case ACTIONS.DROP_ON_FIRST:\n      if (prevState.dragSrcId === 2) {\n        thought = prevState.thoughts.second.find(thg => {\n          return thg.id == prevState.dragId;\n        });\n        prevState.thoughts.second = prevState.thoughts.second.filter(thg => thg.id != dragId);\n      } else if (state.dragSrcId === 3) {\n        thought = prevState.thoughts.third.find(thg => thg.id == id);\n        prevState.thoughts.third = prevState.thoughts.third.filter(thg => thg.id != id);\n      } else {\n        thought = prevState.thoughts.fourth.find(thg => thg.id == id);\n        prevState.thoughts.fourth = prevState.thoughts.fourth.filter(thg => thg.id != id);\n      }\n\n      prevState.thoughts.first = [...prevState.thoughts.first, thought];\n      break;\n\n    default: //\n\n  }\n\n  return prevState;\n\n  if (action.type === ACTIONS.SET_DATA_LOADING) {\n    state.dataLoading = true;\n    state['low'] = [];\n    state['medium'] = [];\n    state['critical'] = [];\n    state['high'] = [];\n    return { ...state\n    };\n  }\n\n  if (action.type === ACTIONS.DATA_FROM_STEP_ONE) {\n    data = action.payload.data;\n    state = data;\n    state.dataLoading = false;\n    return { ...state\n    };\n  }\n\n  if (action.type === ACTIONS.DATA_FROM_SERVER) {\n    console.log(action.type, action.payload);\n    data = action.payload.data;\n    state['low'] = [];\n    state['medium'] = [];\n    state['critical'] = [];\n    state['high'] = [];\n    data.map(iss => {\n      if (iss.issueImpactType[0] === 'low') {\n        state.low.push(iss);\n      } else if (iss.issueImpactType[0] === 'high') {\n        state.high.push(iss);\n      } else if (iss.issueImpactType[0] === 'medium') {\n        state.medium.push(iss);\n      } else if (iss.issueImpactType[0] === 'critical') {\n        state.critical.push(iss);\n      }\n    });\n    state.low.map(iss => {\n      iss['id'] = iss._id;\n    });\n    state.medium.map(iss => {\n      iss['id'] = iss._id;\n    });\n    state.high.map(iss => {\n      iss['id'] = iss._id;\n    });\n    state.critical.map(iss => {\n      iss['id'] = iss._id;\n    });\n    state.dataLoading = false;\n    return { ...state\n    };\n  }\n\n  if (action.type === ACTIONS.DRAGGING) {\n    state.dragId = action.payload.dragId;\n    state.dragSrcId = action.payload.dragSrcId;\n    return { ...state\n    };\n  }\n\n  if (action.type === ACTIONS.DROP_ON_LOW) {\n    if (state.dragSrcId === 2) {\n      thought = prevState.medium.find(isu => {\n        console.log('ise', isu.id, id);\n        return isu.id == id;\n      });\n      prevState.medium = prevState.medium.filter(isu => isu.id != id);\n    } else if (state.dragSrcId === 3) {\n      thought = prevState.high.find(isu => isu.id == id);\n      prevState.high = prevState.high.filter(isu => isu.id != id);\n    } else {\n      thought = prevState.critical.find(isu => isu.id == id);\n      prevState.critical = prevState.critical.filter(isu => isu.id != id);\n    }\n\n    prevState.low = [...prevState.low, thought]; //console.log(s)\n\n    return prevState;\n  } else if (action.type === ACTIONS.DROP_ON_MEDIUM) {\n    if (state.dragSrcId === 3) {\n      thought = prevState.high.find(isu => isu.id == id);\n      prevState.high = prevState.high.filter(isu => isu.id != id);\n    } else if (state.dragSrcId === 4) {\n      thought = prevState.critical.find(isu => isu.id == id);\n      prevState.critical = prevState.critical.filter(isu => isu.id != id);\n    } else {\n      thought = prevState.low.find(isu => isu.id == id);\n      prevState.low = prevState.low.filter(isu => isu.id != id);\n    }\n\n    prevState.medium = [...prevState.medium, thought];\n    return prevState;\n  } else if (action.type === ACTIONS.DROP_ON_HIGH) {\n    if (state.dragSrcId === 2) {\n      thought = prevState.medium.find(isu => isu.id == id);\n      prevState.medium = prevState.medium.filter(isu => isu.id != id);\n    } else if (state.dragSrcId === 4) {\n      thought = prevState.critical.find(isu => isu.id == id);\n      prevState.critical = prevState.critical.filter(isu => isu.id != id);\n    } else {\n      thought = prevState.low.find(isu => isu.id == id);\n      prevState.low = prevState.low.filter(isu => isu.id != id);\n    }\n\n    prevState.high = [...prevState.high, thought];\n    return prevState;\n  } else if (action.type === ACTIONS.DROP_ON_CRITICAL) {\n    if (state.dragSrcId === 2) {\n      thought = prevState.medium.find(isu => isu.id == id);\n      prevState.medium = prevState.medium.filter(isu => isu.id != id);\n    } else if (state.dragSrcId === 3) {\n      thought = prevState.high.find(isu => isu.id == id);\n      prevState.high = prevState.high.filter(isu => isu.id != id);\n    } else {\n      thought = prevState.low.find(isu => isu.id == id);\n      prevState.low = prevState.low.filter(isu => isu.id != id);\n    }\n\n    prevState.critical = [...prevState.critical, thought];\n    return prevState;\n  } else {\n    return state;\n  }\n}","map":{"version":3,"sources":["/Users/apple/Documents/work/fiverr/2021/December/boulmpos/Backups/latest2/src/components/Dashboard/CreateNewVersion/StepSeven/reducer.js"],"names":["ACTIONS","DROP_ON_FIRST","DROP_ON_SECOND","DROP_ON_THIRD","DROP_ON_FOURTH","DRAGGING","DATA_FROM_SERVER","DATA_FROM_STEP_ONE","SET_DATA_LOADING","ADD_NEW_THOUGHT","DELETE_THOUGHT","reducer","state","action","console","log","id","dragId","prevState","thought","data","type","payload","cardId","thoughts","first","newThought","second","third","fourth","filtered","filter","thg","thoughtId","dragSrcId","find","dataLoading","map","iss","issueImpactType","low","push","high","medium","critical","_id","DROP_ON_LOW","isu","DROP_ON_MEDIUM","DROP_ON_HIGH","DROP_ON_CRITICAL"],"mappings":"AAAA;AAEA,OAAO,MAAMA,OAAO,GAAG;AACtBC,EAAAA,aAAa,EAAE,eADO;AAEtBC,EAAAA,cAAc,EAAE,gBAFM;AAGtBC,EAAAA,aAAa,EAAE,eAHO;AAItBC,EAAAA,cAAc,EAAE,gBAJM;AAKtBC,EAAAA,QAAQ,EAAE,UALY;AAMtBC,EAAAA,gBAAgB,EAAE,kBANI;AAOtBC,EAAAA,kBAAkB,EAAE,oBAPE;AAQtBC,EAAAA,gBAAgB,EAAE,kBARI;AAStBC,EAAAA,eAAe,EAAE,iBATK;AAUtBC,EAAAA,cAAc,EAAE;AAVM,CAAhB;AAYP,eAAe,SAASC,OAAT,CAAiBC,KAAjB,EAAwBC,MAAxB,EAAgC;AAC9CC,EAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBF,MAAtB;AACA,MAAIG,EAAE,GAAGJ,KAAK,CAACK,MAAf,CAF8C,CAG9C;;AAEA,MAAIC,SAAS,GAAG,EAAE,GAAGN;AAAL,GAAhB;AACA,MAAIO,OAAO,GAAG,IAAd;AACA,MAAIC,IAAI,GAAG,IAAX;;AAEA,UAAQP,MAAM,CAACQ,IAAf;AACC,SAAKrB,OAAO,CAACS,eAAb;AACC,cAAQI,MAAM,CAACS,OAAP,CAAeC,MAAvB;AACC,aAAK,GAAL;AACCL,UAAAA,SAAS,CAACM,QAAV,CAAmBC,KAAnB,GAA2B,CAC1B,GAAGP,SAAS,CAACM,QAAV,CAAmBC,KADI,EAE1BZ,MAAM,CAACS,OAAP,CAAeI,UAFW,CAA3B;AAIA;;AACD,aAAK,GAAL;AACCR,UAAAA,SAAS,CAACM,QAAV,CAAmBG,MAAnB,GAA4B,CAC3B,GAAGT,SAAS,CAACM,QAAV,CAAmBG,MADK,EAE3Bd,MAAM,CAACS,OAAP,CAAeI,UAFY,CAA5B;AAIA;;AACD,aAAK,GAAL;AACCR,UAAAA,SAAS,CAACM,QAAV,CAAmBI,KAAnB,GAA2B,CAC1B,GAAGV,SAAS,CAACM,QAAV,CAAmBI,KADI,EAE1Bf,MAAM,CAACS,OAAP,CAAeI,UAFW,CAA3B;AAIA;;AACD;AACCR,UAAAA,SAAS,CAACM,QAAV,CAAmBK,MAAnB,GAA4B,CAC3B,GAAGX,SAAS,CAACM,QAAV,CAAmBK,MADK,EAE3BhB,MAAM,CAACS,OAAP,CAAeI,UAFY,CAA5B;AApBF;;AAyBA;;AACD,SAAK1B,OAAO,CAACU,cAAb;AACC,UAAIoB,QAAQ,GAAG,IAAf;;AACA,cAAQjB,MAAM,CAACS,OAAP,CAAeC,MAAvB;AACC,aAAK,GAAL;AACCO,UAAAA,QAAQ,GAAGZ,SAAS,CAACM,QAAV,CAAmBC,KAAnB,CAAyBM,MAAzB,CACTC,GAAD,IAASA,GAAG,CAAChB,EAAJ,IAAUH,MAAM,CAACS,OAAP,CAAeW,SADxB,CAAX;AAGAf,UAAAA,SAAS,CAACM,QAAV,CAAmBC,KAAnB,GAA2B,CAAC,GAAGK,QAAJ,CAA3B;AACA;;AACD,aAAK,GAAL;AACCA,UAAAA,QAAQ,GAAGZ,SAAS,CAACM,QAAV,CAAmBG,MAAnB,CAA0BI,MAA1B,CACTC,GAAD,IAASA,GAAG,CAAChB,EAAJ,IAAUH,MAAM,CAACS,OAAP,CAAeW,SADxB,CAAX;AAGAf,UAAAA,SAAS,CAACM,QAAV,CAAmBG,MAAnB,GAA4B,CAAC,GAAGG,QAAJ,CAA5B;AACA;;AACD,aAAK,GAAL;AACCA,UAAAA,QAAQ,GAAGZ,SAAS,CAACM,QAAV,CAAmBI,KAAnB,CAAyBG,MAAzB,CACTC,GAAD,IAASA,GAAG,CAAChB,EAAJ,IAAUH,MAAM,CAACS,OAAP,CAAeW,SADxB,CAAX;AAGAf,UAAAA,SAAS,CAACM,QAAV,CAAmBI,KAAnB,GAA2B,CAAC,GAAGE,QAAJ,CAA3B;AACA;;AACD;AACCA,UAAAA,QAAQ,GAAGZ,SAAS,CAACM,QAAV,CAAmBK,MAAnB,CAA0BE,MAA1B,CACTC,GAAD,IAASA,GAAG,CAAChB,EAAJ,IAAUH,MAAM,CAACS,OAAP,CAAeW,SADxB,CAAX;AAGAf,UAAAA,SAAS,CAACM,QAAV,CAAmBK,MAAnB,GAA4B,CAAC,GAAGC,QAAJ,CAA5B;AAvBF;;AAyBA;;AACD,SAAK9B,OAAO,CAACK,QAAb;AACCa,MAAAA,SAAS,CAACD,MAAV,GAAmBJ,MAAM,CAACS,OAAP,CAAeL,MAAlC;AACAC,MAAAA,SAAS,CAACgB,SAAV,GAAsBrB,MAAM,CAACS,OAAP,CAAeY,SAArC;AACA;;AACD,SAAKlC,OAAO,CAACC,aAAb;AACC,UAAIiB,SAAS,CAACgB,SAAV,KAAwB,CAA5B,EAA+B;AAC9Bf,QAAAA,OAAO,GAAGD,SAAS,CAACM,QAAV,CAAmBG,MAAnB,CAA0BQ,IAA1B,CAAgCH,GAAD,IAAS;AACjD,iBAAOA,GAAG,CAAChB,EAAJ,IAAUE,SAAS,CAACD,MAA3B;AACA,SAFS,CAAV;AAGAC,QAAAA,SAAS,CAACM,QAAV,CAAmBG,MAAnB,GAA4BT,SAAS,CAACM,QAAV,CAAmBG,MAAnB,CAA0BI,MAA1B,CAC1BC,GAAD,IAASA,GAAG,CAAChB,EAAJ,IAAUC,MADQ,CAA5B;AAGA,OAPD,MAOO,IAAIL,KAAK,CAACsB,SAAN,KAAoB,CAAxB,EAA2B;AACjCf,QAAAA,OAAO,GAAGD,SAAS,CAACM,QAAV,CAAmBI,KAAnB,CAAyBO,IAAzB,CAA+BH,GAAD,IAASA,GAAG,CAAChB,EAAJ,IAAUA,EAAjD,CAAV;AACAE,QAAAA,SAAS,CAACM,QAAV,CAAmBI,KAAnB,GAA2BV,SAAS,CAACM,QAAV,CAAmBI,KAAnB,CAAyBG,MAAzB,CACzBC,GAAD,IAASA,GAAG,CAAChB,EAAJ,IAAUA,EADO,CAA3B;AAGA,OALM,MAKA;AACNG,QAAAA,OAAO,GAAGD,SAAS,CAACM,QAAV,CAAmBK,MAAnB,CAA0BM,IAA1B,CAAgCH,GAAD,IAASA,GAAG,CAAChB,EAAJ,IAAUA,EAAlD,CAAV;AACAE,QAAAA,SAAS,CAACM,QAAV,CAAmBK,MAAnB,GAA4BX,SAAS,CAACM,QAAV,CAAmBK,MAAnB,CAA0BE,MAA1B,CAC1BC,GAAD,IAASA,GAAG,CAAChB,EAAJ,IAAUA,EADQ,CAA5B;AAGA;;AACDE,MAAAA,SAAS,CAACM,QAAV,CAAmBC,KAAnB,GAA2B,CAAC,GAAGP,SAAS,CAACM,QAAV,CAAmBC,KAAvB,EAA8BN,OAA9B,CAA3B;AACA;;AACD,YAjFD,CAkFC;;AAlFD;;AAoFA,SAAOD,SAAP;;AACA,MAAIL,MAAM,CAACQ,IAAP,KAAgBrB,OAAO,CAACQ,gBAA5B,EAA8C;AAC7CI,IAAAA,KAAK,CAACwB,WAAN,GAAoB,IAApB;AACAxB,IAAAA,KAAK,CAAC,KAAD,CAAL,GAAe,EAAf;AACAA,IAAAA,KAAK,CAAC,QAAD,CAAL,GAAkB,EAAlB;AACAA,IAAAA,KAAK,CAAC,UAAD,CAAL,GAAoB,EAApB;AACAA,IAAAA,KAAK,CAAC,MAAD,CAAL,GAAgB,EAAhB;AAEA,WAAO,EAAE,GAAGA;AAAL,KAAP;AACA;;AACD,MAAIC,MAAM,CAACQ,IAAP,KAAgBrB,OAAO,CAACO,kBAA5B,EAAgD;AAC/Ca,IAAAA,IAAI,GAAGP,MAAM,CAACS,OAAP,CAAeF,IAAtB;AACAR,IAAAA,KAAK,GAAGQ,IAAR;AACAR,IAAAA,KAAK,CAACwB,WAAN,GAAoB,KAApB;AACA,WAAO,EAAE,GAAGxB;AAAL,KAAP;AACA;;AAED,MAAIC,MAAM,CAACQ,IAAP,KAAgBrB,OAAO,CAACM,gBAA5B,EAA8C;AAC7CQ,IAAAA,OAAO,CAACC,GAAR,CAAYF,MAAM,CAACQ,IAAnB,EAAyBR,MAAM,CAACS,OAAhC;AAEAF,IAAAA,IAAI,GAAGP,MAAM,CAACS,OAAP,CAAeF,IAAtB;AACAR,IAAAA,KAAK,CAAC,KAAD,CAAL,GAAe,EAAf;AACAA,IAAAA,KAAK,CAAC,QAAD,CAAL,GAAkB,EAAlB;AACAA,IAAAA,KAAK,CAAC,UAAD,CAAL,GAAoB,EAApB;AACAA,IAAAA,KAAK,CAAC,MAAD,CAAL,GAAgB,EAAhB;AAEAQ,IAAAA,IAAI,CAACiB,GAAL,CAAUC,GAAD,IAAS;AACjB,UAAIA,GAAG,CAACC,eAAJ,CAAoB,CAApB,MAA2B,KAA/B,EAAsC;AACrC3B,QAAAA,KAAK,CAAC4B,GAAN,CAAUC,IAAV,CAAeH,GAAf;AACA,OAFD,MAEO,IAAIA,GAAG,CAACC,eAAJ,CAAoB,CAApB,MAA2B,MAA/B,EAAuC;AAC7C3B,QAAAA,KAAK,CAAC8B,IAAN,CAAWD,IAAX,CAAgBH,GAAhB;AACA,OAFM,MAEA,IAAIA,GAAG,CAACC,eAAJ,CAAoB,CAApB,MAA2B,QAA/B,EAAyC;AAC/C3B,QAAAA,KAAK,CAAC+B,MAAN,CAAaF,IAAb,CAAkBH,GAAlB;AACA,OAFM,MAEA,IAAIA,GAAG,CAACC,eAAJ,CAAoB,CAApB,MAA2B,UAA/B,EAA2C;AACjD3B,QAAAA,KAAK,CAACgC,QAAN,CAAeH,IAAf,CAAoBH,GAApB;AACA;AACD,KAVD;AAYA1B,IAAAA,KAAK,CAAC4B,GAAN,CAAUH,GAAV,CAAeC,GAAD,IAAS;AACtBA,MAAAA,GAAG,CAAC,IAAD,CAAH,GAAYA,GAAG,CAACO,GAAhB;AACA,KAFD;AAGAjC,IAAAA,KAAK,CAAC+B,MAAN,CAAaN,GAAb,CAAkBC,GAAD,IAAS;AACzBA,MAAAA,GAAG,CAAC,IAAD,CAAH,GAAYA,GAAG,CAACO,GAAhB;AACA,KAFD;AAGAjC,IAAAA,KAAK,CAAC8B,IAAN,CAAWL,GAAX,CAAgBC,GAAD,IAAS;AACvBA,MAAAA,GAAG,CAAC,IAAD,CAAH,GAAYA,GAAG,CAACO,GAAhB;AACA,KAFD;AAGAjC,IAAAA,KAAK,CAACgC,QAAN,CAAeP,GAAf,CAAoBC,GAAD,IAAS;AAC3BA,MAAAA,GAAG,CAAC,IAAD,CAAH,GAAYA,GAAG,CAACO,GAAhB;AACA,KAFD;AAIAjC,IAAAA,KAAK,CAACwB,WAAN,GAAoB,KAApB;AACA,WAAO,EAAE,GAAGxB;AAAL,KAAP;AACA;;AAED,MAAIC,MAAM,CAACQ,IAAP,KAAgBrB,OAAO,CAACK,QAA5B,EAAsC;AACrCO,IAAAA,KAAK,CAACK,MAAN,GAAeJ,MAAM,CAACS,OAAP,CAAeL,MAA9B;AACAL,IAAAA,KAAK,CAACsB,SAAN,GAAkBrB,MAAM,CAACS,OAAP,CAAeY,SAAjC;AACA,WAAO,EAAE,GAAGtB;AAAL,KAAP;AACA;;AACD,MAAIC,MAAM,CAACQ,IAAP,KAAgBrB,OAAO,CAAC8C,WAA5B,EAAyC;AACxC,QAAIlC,KAAK,CAACsB,SAAN,KAAoB,CAAxB,EAA2B;AAC1Bf,MAAAA,OAAO,GAAGD,SAAS,CAACyB,MAAV,CAAiBR,IAAjB,CAAuBY,GAAD,IAAS;AACxCjC,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBgC,GAAG,CAAC/B,EAAvB,EAA2BA,EAA3B;AACA,eAAO+B,GAAG,CAAC/B,EAAJ,IAAUA,EAAjB;AACA,OAHS,CAAV;AAIAE,MAAAA,SAAS,CAACyB,MAAV,GAAmBzB,SAAS,CAACyB,MAAV,CAAiBZ,MAAjB,CAAyBgB,GAAD,IAASA,GAAG,CAAC/B,EAAJ,IAAUA,EAA3C,CAAnB;AACA,KAND,MAMO,IAAIJ,KAAK,CAACsB,SAAN,KAAoB,CAAxB,EAA2B;AACjCf,MAAAA,OAAO,GAAGD,SAAS,CAACwB,IAAV,CAAeP,IAAf,CAAqBY,GAAD,IAASA,GAAG,CAAC/B,EAAJ,IAAUA,EAAvC,CAAV;AACAE,MAAAA,SAAS,CAACwB,IAAV,GAAiBxB,SAAS,CAACwB,IAAV,CAAeX,MAAf,CAAuBgB,GAAD,IAASA,GAAG,CAAC/B,EAAJ,IAAUA,EAAzC,CAAjB;AACA,KAHM,MAGA;AACNG,MAAAA,OAAO,GAAGD,SAAS,CAAC0B,QAAV,CAAmBT,IAAnB,CAAyBY,GAAD,IAASA,GAAG,CAAC/B,EAAJ,IAAUA,EAA3C,CAAV;AACAE,MAAAA,SAAS,CAAC0B,QAAV,GAAqB1B,SAAS,CAAC0B,QAAV,CAAmBb,MAAnB,CAA2BgB,GAAD,IAASA,GAAG,CAAC/B,EAAJ,IAAUA,EAA7C,CAArB;AACA;;AACDE,IAAAA,SAAS,CAACsB,GAAV,GAAgB,CAAC,GAAGtB,SAAS,CAACsB,GAAd,EAAmBrB,OAAnB,CAAhB,CAdwC,CAexC;;AACA,WAAOD,SAAP;AACA,GAjBD,MAiBO,IAAIL,MAAM,CAACQ,IAAP,KAAgBrB,OAAO,CAACgD,cAA5B,EAA4C;AAClD,QAAIpC,KAAK,CAACsB,SAAN,KAAoB,CAAxB,EAA2B;AAC1Bf,MAAAA,OAAO,GAAGD,SAAS,CAACwB,IAAV,CAAeP,IAAf,CAAqBY,GAAD,IAASA,GAAG,CAAC/B,EAAJ,IAAUA,EAAvC,CAAV;AACAE,MAAAA,SAAS,CAACwB,IAAV,GAAiBxB,SAAS,CAACwB,IAAV,CAAeX,MAAf,CAAuBgB,GAAD,IAASA,GAAG,CAAC/B,EAAJ,IAAUA,EAAzC,CAAjB;AACA,KAHD,MAGO,IAAIJ,KAAK,CAACsB,SAAN,KAAoB,CAAxB,EAA2B;AACjCf,MAAAA,OAAO,GAAGD,SAAS,CAAC0B,QAAV,CAAmBT,IAAnB,CAAyBY,GAAD,IAASA,GAAG,CAAC/B,EAAJ,IAAUA,EAA3C,CAAV;AACAE,MAAAA,SAAS,CAAC0B,QAAV,GAAqB1B,SAAS,CAAC0B,QAAV,CAAmBb,MAAnB,CAA2BgB,GAAD,IAASA,GAAG,CAAC/B,EAAJ,IAAUA,EAA7C,CAArB;AACA,KAHM,MAGA;AACNG,MAAAA,OAAO,GAAGD,SAAS,CAACsB,GAAV,CAAcL,IAAd,CAAoBY,GAAD,IAASA,GAAG,CAAC/B,EAAJ,IAAUA,EAAtC,CAAV;AACAE,MAAAA,SAAS,CAACsB,GAAV,GAAgBtB,SAAS,CAACsB,GAAV,CAAcT,MAAd,CAAsBgB,GAAD,IAASA,GAAG,CAAC/B,EAAJ,IAAUA,EAAxC,CAAhB;AACA;;AACDE,IAAAA,SAAS,CAACyB,MAAV,GAAmB,CAAC,GAAGzB,SAAS,CAACyB,MAAd,EAAsBxB,OAAtB,CAAnB;AACA,WAAOD,SAAP;AACA,GAbM,MAaA,IAAIL,MAAM,CAACQ,IAAP,KAAgBrB,OAAO,CAACiD,YAA5B,EAA0C;AAChD,QAAIrC,KAAK,CAACsB,SAAN,KAAoB,CAAxB,EAA2B;AAC1Bf,MAAAA,OAAO,GAAGD,SAAS,CAACyB,MAAV,CAAiBR,IAAjB,CAAuBY,GAAD,IAASA,GAAG,CAAC/B,EAAJ,IAAUA,EAAzC,CAAV;AACAE,MAAAA,SAAS,CAACyB,MAAV,GAAmBzB,SAAS,CAACyB,MAAV,CAAiBZ,MAAjB,CAAyBgB,GAAD,IAASA,GAAG,CAAC/B,EAAJ,IAAUA,EAA3C,CAAnB;AACA,KAHD,MAGO,IAAIJ,KAAK,CAACsB,SAAN,KAAoB,CAAxB,EAA2B;AACjCf,MAAAA,OAAO,GAAGD,SAAS,CAAC0B,QAAV,CAAmBT,IAAnB,CAAyBY,GAAD,IAASA,GAAG,CAAC/B,EAAJ,IAAUA,EAA3C,CAAV;AACAE,MAAAA,SAAS,CAAC0B,QAAV,GAAqB1B,SAAS,CAAC0B,QAAV,CAAmBb,MAAnB,CAA2BgB,GAAD,IAASA,GAAG,CAAC/B,EAAJ,IAAUA,EAA7C,CAArB;AACA,KAHM,MAGA;AACNG,MAAAA,OAAO,GAAGD,SAAS,CAACsB,GAAV,CAAcL,IAAd,CAAoBY,GAAD,IAASA,GAAG,CAAC/B,EAAJ,IAAUA,EAAtC,CAAV;AACAE,MAAAA,SAAS,CAACsB,GAAV,GAAgBtB,SAAS,CAACsB,GAAV,CAAcT,MAAd,CAAsBgB,GAAD,IAASA,GAAG,CAAC/B,EAAJ,IAAUA,EAAxC,CAAhB;AACA;;AACDE,IAAAA,SAAS,CAACwB,IAAV,GAAiB,CAAC,GAAGxB,SAAS,CAACwB,IAAd,EAAoBvB,OAApB,CAAjB;AACA,WAAOD,SAAP;AACA,GAbM,MAaA,IAAIL,MAAM,CAACQ,IAAP,KAAgBrB,OAAO,CAACkD,gBAA5B,EAA8C;AACpD,QAAItC,KAAK,CAACsB,SAAN,KAAoB,CAAxB,EAA2B;AAC1Bf,MAAAA,OAAO,GAAGD,SAAS,CAACyB,MAAV,CAAiBR,IAAjB,CAAuBY,GAAD,IAASA,GAAG,CAAC/B,EAAJ,IAAUA,EAAzC,CAAV;AACAE,MAAAA,SAAS,CAACyB,MAAV,GAAmBzB,SAAS,CAACyB,MAAV,CAAiBZ,MAAjB,CAAyBgB,GAAD,IAASA,GAAG,CAAC/B,EAAJ,IAAUA,EAA3C,CAAnB;AACA,KAHD,MAGO,IAAIJ,KAAK,CAACsB,SAAN,KAAoB,CAAxB,EAA2B;AACjCf,MAAAA,OAAO,GAAGD,SAAS,CAACwB,IAAV,CAAeP,IAAf,CAAqBY,GAAD,IAASA,GAAG,CAAC/B,EAAJ,IAAUA,EAAvC,CAAV;AACAE,MAAAA,SAAS,CAACwB,IAAV,GAAiBxB,SAAS,CAACwB,IAAV,CAAeX,MAAf,CAAuBgB,GAAD,IAASA,GAAG,CAAC/B,EAAJ,IAAUA,EAAzC,CAAjB;AACA,KAHM,MAGA;AACNG,MAAAA,OAAO,GAAGD,SAAS,CAACsB,GAAV,CAAcL,IAAd,CAAoBY,GAAD,IAASA,GAAG,CAAC/B,EAAJ,IAAUA,EAAtC,CAAV;AACAE,MAAAA,SAAS,CAACsB,GAAV,GAAgBtB,SAAS,CAACsB,GAAV,CAAcT,MAAd,CAAsBgB,GAAD,IAASA,GAAG,CAAC/B,EAAJ,IAAUA,EAAxC,CAAhB;AACA;;AACDE,IAAAA,SAAS,CAAC0B,QAAV,GAAqB,CAAC,GAAG1B,SAAS,CAAC0B,QAAd,EAAwBzB,OAAxB,CAArB;AACA,WAAOD,SAAP;AACA,GAbM,MAaA;AACN,WAAON,KAAP;AACA;AACD","sourcesContent":["//enum: ['likely', 'real', 'probably', 'unrealistic'],\n\nexport const ACTIONS = {\n\tDROP_ON_FIRST: 'drop_on_first',\n\tDROP_ON_SECOND: 'drop_on_second',\n\tDROP_ON_THIRD: 'drop_on_third',\n\tDROP_ON_FOURTH: 'drop_on_fourth',\n\tDRAGGING: 'dragging',\n\tDATA_FROM_SERVER: 'data_from_server',\n\tDATA_FROM_STEP_ONE: 'data_from_step_one',\n\tSET_DATA_LOADING: 'set_data_loading',\n\tADD_NEW_THOUGHT: 'add_new_thought',\n\tDELETE_THOUGHT: 'delete_thought',\n};\nexport default function reducer(state, action) {\n\tconsole.log('action', action);\n\tlet id = state.dragId;\n\t// let dragSrc = action.payload.dragSourceId;\n\n\tlet prevState = { ...state };\n\tlet thought = null;\n\tlet data = null;\n\n\tswitch (action.type) {\n\t\tcase ACTIONS.ADD_NEW_THOUGHT:\n\t\t\tswitch (action.payload.cardId) {\n\t\t\t\tcase '1':\n\t\t\t\t\tprevState.thoughts.first = [\n\t\t\t\t\t\t...prevState.thoughts.first,\n\t\t\t\t\t\taction.payload.newThought,\n\t\t\t\t\t];\n\t\t\t\t\tbreak;\n\t\t\t\tcase '2':\n\t\t\t\t\tprevState.thoughts.second = [\n\t\t\t\t\t\t...prevState.thoughts.second,\n\t\t\t\t\t\taction.payload.newThought,\n\t\t\t\t\t];\n\t\t\t\t\tbreak;\n\t\t\t\tcase '3':\n\t\t\t\t\tprevState.thoughts.third = [\n\t\t\t\t\t\t...prevState.thoughts.third,\n\t\t\t\t\t\taction.payload.newThought,\n\t\t\t\t\t];\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tprevState.thoughts.fourth = [\n\t\t\t\t\t\t...prevState.thoughts.fourth,\n\t\t\t\t\t\taction.payload.newThought,\n\t\t\t\t\t];\n\t\t\t}\n\t\t\tbreak;\n\t\tcase ACTIONS.DELETE_THOUGHT:\n\t\t\tlet filtered = null;\n\t\t\tswitch (action.payload.cardId) {\n\t\t\t\tcase '1':\n\t\t\t\t\tfiltered = prevState.thoughts.first.filter(\n\t\t\t\t\t\t(thg) => thg.id != action.payload.thoughtId\n\t\t\t\t\t);\n\t\t\t\t\tprevState.thoughts.first = [...filtered];\n\t\t\t\t\tbreak;\n\t\t\t\tcase '2':\n\t\t\t\t\tfiltered = prevState.thoughts.second.filter(\n\t\t\t\t\t\t(thg) => thg.id != action.payload.thoughtId\n\t\t\t\t\t);\n\t\t\t\t\tprevState.thoughts.second = [...filtered];\n\t\t\t\t\tbreak;\n\t\t\t\tcase '3':\n\t\t\t\t\tfiltered = prevState.thoughts.third.filter(\n\t\t\t\t\t\t(thg) => thg.id != action.payload.thoughtId\n\t\t\t\t\t);\n\t\t\t\t\tprevState.thoughts.third = [...filtered];\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tfiltered = prevState.thoughts.fourth.filter(\n\t\t\t\t\t\t(thg) => thg.id != action.payload.thoughtId\n\t\t\t\t\t);\n\t\t\t\t\tprevState.thoughts.fourth = [...filtered];\n\t\t\t}\n\t\t\tbreak;\n\t\tcase ACTIONS.DRAGGING:\n\t\t\tprevState.dragId = action.payload.dragId;\n\t\t\tprevState.dragSrcId = action.payload.dragSrcId;\n\t\t\tbreak;\n\t\tcase ACTIONS.DROP_ON_FIRST:\n\t\t\tif (prevState.dragSrcId === 2) {\n\t\t\t\tthought = prevState.thoughts.second.find((thg) => {\n\t\t\t\t\treturn thg.id == prevState.dragId;\n\t\t\t\t});\n\t\t\t\tprevState.thoughts.second = prevState.thoughts.second.filter(\n\t\t\t\t\t(thg) => thg.id != dragId\n\t\t\t\t);\n\t\t\t} else if (state.dragSrcId === 3) {\n\t\t\t\tthought = prevState.thoughts.third.find((thg) => thg.id == id);\n\t\t\t\tprevState.thoughts.third = prevState.thoughts.third.filter(\n\t\t\t\t\t(thg) => thg.id != id\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tthought = prevState.thoughts.fourth.find((thg) => thg.id == id);\n\t\t\t\tprevState.thoughts.fourth = prevState.thoughts.fourth.filter(\n\t\t\t\t\t(thg) => thg.id != id\n\t\t\t\t);\n\t\t\t}\n\t\t\tprevState.thoughts.first = [...prevState.thoughts.first, thought];\n\t\t\tbreak;\n\t\tdefault:\n\t\t//\n\t}\n\treturn prevState;\n\tif (action.type === ACTIONS.SET_DATA_LOADING) {\n\t\tstate.dataLoading = true;\n\t\tstate['low'] = [];\n\t\tstate['medium'] = [];\n\t\tstate['critical'] = [];\n\t\tstate['high'] = [];\n\n\t\treturn { ...state };\n\t}\n\tif (action.type === ACTIONS.DATA_FROM_STEP_ONE) {\n\t\tdata = action.payload.data;\n\t\tstate = data;\n\t\tstate.dataLoading = false;\n\t\treturn { ...state };\n\t}\n\n\tif (action.type === ACTIONS.DATA_FROM_SERVER) {\n\t\tconsole.log(action.type, action.payload);\n\n\t\tdata = action.payload.data;\n\t\tstate['low'] = [];\n\t\tstate['medium'] = [];\n\t\tstate['critical'] = [];\n\t\tstate['high'] = [];\n\n\t\tdata.map((iss) => {\n\t\t\tif (iss.issueImpactType[0] === 'low') {\n\t\t\t\tstate.low.push(iss);\n\t\t\t} else if (iss.issueImpactType[0] === 'high') {\n\t\t\t\tstate.high.push(iss);\n\t\t\t} else if (iss.issueImpactType[0] === 'medium') {\n\t\t\t\tstate.medium.push(iss);\n\t\t\t} else if (iss.issueImpactType[0] === 'critical') {\n\t\t\t\tstate.critical.push(iss);\n\t\t\t}\n\t\t});\n\n\t\tstate.low.map((iss) => {\n\t\t\tiss['id'] = iss._id;\n\t\t});\n\t\tstate.medium.map((iss) => {\n\t\t\tiss['id'] = iss._id;\n\t\t});\n\t\tstate.high.map((iss) => {\n\t\t\tiss['id'] = iss._id;\n\t\t});\n\t\tstate.critical.map((iss) => {\n\t\t\tiss['id'] = iss._id;\n\t\t});\n\n\t\tstate.dataLoading = false;\n\t\treturn { ...state };\n\t}\n\n\tif (action.type === ACTIONS.DRAGGING) {\n\t\tstate.dragId = action.payload.dragId;\n\t\tstate.dragSrcId = action.payload.dragSrcId;\n\t\treturn { ...state };\n\t}\n\tif (action.type === ACTIONS.DROP_ON_LOW) {\n\t\tif (state.dragSrcId === 2) {\n\t\t\tthought = prevState.medium.find((isu) => {\n\t\t\t\tconsole.log('ise', isu.id, id);\n\t\t\t\treturn isu.id == id;\n\t\t\t});\n\t\t\tprevState.medium = prevState.medium.filter((isu) => isu.id != id);\n\t\t} else if (state.dragSrcId === 3) {\n\t\t\tthought = prevState.high.find((isu) => isu.id == id);\n\t\t\tprevState.high = prevState.high.filter((isu) => isu.id != id);\n\t\t} else {\n\t\t\tthought = prevState.critical.find((isu) => isu.id == id);\n\t\t\tprevState.critical = prevState.critical.filter((isu) => isu.id != id);\n\t\t}\n\t\tprevState.low = [...prevState.low, thought];\n\t\t//console.log(s)\n\t\treturn prevState;\n\t} else if (action.type === ACTIONS.DROP_ON_MEDIUM) {\n\t\tif (state.dragSrcId === 3) {\n\t\t\tthought = prevState.high.find((isu) => isu.id == id);\n\t\t\tprevState.high = prevState.high.filter((isu) => isu.id != id);\n\t\t} else if (state.dragSrcId === 4) {\n\t\t\tthought = prevState.critical.find((isu) => isu.id == id);\n\t\t\tprevState.critical = prevState.critical.filter((isu) => isu.id != id);\n\t\t} else {\n\t\t\tthought = prevState.low.find((isu) => isu.id == id);\n\t\t\tprevState.low = prevState.low.filter((isu) => isu.id != id);\n\t\t}\n\t\tprevState.medium = [...prevState.medium, thought];\n\t\treturn prevState;\n\t} else if (action.type === ACTIONS.DROP_ON_HIGH) {\n\t\tif (state.dragSrcId === 2) {\n\t\t\tthought = prevState.medium.find((isu) => isu.id == id);\n\t\t\tprevState.medium = prevState.medium.filter((isu) => isu.id != id);\n\t\t} else if (state.dragSrcId === 4) {\n\t\t\tthought = prevState.critical.find((isu) => isu.id == id);\n\t\t\tprevState.critical = prevState.critical.filter((isu) => isu.id != id);\n\t\t} else {\n\t\t\tthought = prevState.low.find((isu) => isu.id == id);\n\t\t\tprevState.low = prevState.low.filter((isu) => isu.id != id);\n\t\t}\n\t\tprevState.high = [...prevState.high, thought];\n\t\treturn prevState;\n\t} else if (action.type === ACTIONS.DROP_ON_CRITICAL) {\n\t\tif (state.dragSrcId === 2) {\n\t\t\tthought = prevState.medium.find((isu) => isu.id == id);\n\t\t\tprevState.medium = prevState.medium.filter((isu) => isu.id != id);\n\t\t} else if (state.dragSrcId === 3) {\n\t\t\tthought = prevState.high.find((isu) => isu.id == id);\n\t\t\tprevState.high = prevState.high.filter((isu) => isu.id != id);\n\t\t} else {\n\t\t\tthought = prevState.low.find((isu) => isu.id == id);\n\t\t\tprevState.low = prevState.low.filter((isu) => isu.id != id);\n\t\t}\n\t\tprevState.critical = [...prevState.critical, thought];\n\t\treturn prevState;\n\t} else {\n\t\treturn state;\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}