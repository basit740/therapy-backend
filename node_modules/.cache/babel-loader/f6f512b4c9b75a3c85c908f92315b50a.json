{"ast":null,"code":"var _jsxFileName = \"/Users/apple/Documents/work/fiverr/2021/December/boulmpos/Backups/latest2/src/components/Dashboard/CreateNewVersion/StepSeven/Thoughts.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useReducer } from 'react';\nimport './Thoughts.css';\nimport ThoughtCard from './ThoughtCard';\nimport Thought from './Thought';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  thoughts: {\n    first: [],\n    second: [],\n    third: [],\n    fourth: []\n  },\n  dragId: null,\n  dragSrcId: null,\n  dataLoading: true\n};\n\nconst Thoughts = props => {\n  _s();\n\n  const [firstThoughts, setFirstThoughts] = useState([]);\n  const [secondThoghts, setSecondThoughts] = useState([]);\n  const [thirdThoughts, setThirdThoughts] = useState([]);\n  const [fourthThoughts, setFourthThoughts] = useState([]);\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const [newThought, setNewThought] = useState('');\n  const [draggingThought, setDraggingThought] = useState(null);\n  const [dragSourceId, setDragSourceId] = useState(null); ////////////////////////////////////// HELPER FUNCTIONS       /////////////////////\n\n  const cleanSourceCard = (id, draggingThg) => {\n    if (id == 1) {\n      const filtered = firstThoughts.filter(thg => thg.id != draggingThg.id);\n      setFirstThoughts(filtered);\n    } else if (id == 2) {\n      const filtered = secondThoghts.filter(thg => thg.id != draggingThg.id);\n      setSecondThoughts(filtered);\n    } else if (id == 3) {\n      const filtered = thirdThoughts.filter(thg => thg.id != draggingThg.id);\n      setThirdThoughts(filtered);\n    } else if (id == 4) {\n      const filtered = fourthThoughts.filter(tgh => tgh.id != draggingThg.id);\n      setFourthThoughts(filtered);\n    }\n  };\n\n  const findInFirstCard = draggingTgh => {\n    const found = firstThoughts.find(thg => thg.id == draggingTgh.id);\n\n    if (found) {\n      return true;\n    }\n  };\n\n  const findInSecondCard = draggingTgh => {\n    const found = secondThoghts.find(thg => thg.id == draggingTgh.id);\n\n    if (found) {\n      return true;\n    }\n  };\n\n  const findInThirdCard = draggingTgh => {\n    const found = thirdThoughts.find(thg => thg.id == draggingTgh.id);\n\n    if (found) {\n      return true;\n    }\n  };\n\n  const findInFourthCard = draggingTgh => {\n    const found = fourthThoughts.find(thg => thg.id == draggingTgh.id);\n\n    if (found) {\n      return true;\n    }\n  };\n\n  const filterThoughts = (parentCardId, thgId) => {\n    if (parentCardId == 1) {\n      const filterd = firstThoughts.filter(thg => thg.id != thgId);\n      return filterd;\n    }\n\n    if (parentCardId == 2) {\n      const filterd = secondThoghts.filter(thg => thg.id != thgId);\n      return filterd;\n    }\n\n    if (parentCardId == 3) {\n      const filterd = thirdThoughts.filter(thg => thg.id != thgId);\n      return filterd;\n    }\n\n    if (parentCardId == 4) {\n      const filterd = fourthThoughts.filter(thg => thg.id != thgId);\n      return filterd;\n    }\n  }; /////////////////////////////////// NATIVE ADD AND DELETE FUNCTIONALITY FOR ITEMS ///////////\n\n\n  const newThoughtHandler = newThought => {\n    setNewThought(newThought);\n\n    if (newThought.cardId === '1') {\n      setFirstThoughts(prevThoughts => {\n        return [...prevThoughts, newThought];\n      });\n      setNewThought('');\n    } else if (newThought.cardId === '2') {\n      setSecondThoughts(prevThoughts => {\n        return [...prevThoughts, newThought];\n      });\n      setNewThought('');\n    } else if (newThought.cardId === '3') {\n      setThirdThoughts(prevThoughts => {\n        return [...prevThoughts, newThought];\n      });\n      setNewThought('');\n    } else {\n      setFourthThoughts(prevThoughts => {\n        return [...prevThoughts, newThought];\n      });\n      setNewThought('');\n    }\n  };\n\n  const deleteThgHandler = event => {\n    console.log(event.target.id);\n    const CARD_ID = event.target.getAttribute('parentId');\n    console.log('parent Card id', CARD_ID);\n\n    if (CARD_ID == 1) {\n      setFirstThoughts(filterThoughts(1, event.target.id));\n    } else if (CARD_ID == 2) {\n      setSecondThoughts(filterThoughts(2, event.target.id));\n    } else if (CARD_ID == 3) {\n      setThirdThoughts(filterThoughts(3, event.target.id));\n    } else {\n      setFourthThoughts(filterThoughts(4, event.target.id));\n    }\n  };\n\n  const dragStartHandler = event => {\n    console.log('drag is started', event.target.parentNode.id);\n    event.target.classList.add('dragging');\n\n    if (event.target.parentNode.id == 4) {\n      const thg = fourthThoughts.find(thg => thg.id == event.target.id);\n      console.log('dragging thgought', thg);\n      setDraggingThought(thg);\n      setDragSourceId(4);\n    }\n\n    if (event.target.parentNode.id == 3) {\n      const thg = thirdThoughts.find(thg => thg.id == event.target.id); //console.log('dragging thought',thg)\n\n      setDraggingThought(thg);\n      setDragSourceId(3);\n    }\n\n    if (event.target.parentNode.id == 2) {\n      const thg = secondThoghts.find(thg => thg.id == event.target.id); //console.log('dragging thought',thg)\n\n      setDraggingThought(thg);\n      setDragSourceId(2);\n    }\n\n    if (event.target.parentNode.id == 1) {\n      const thg = firstThoughts.find(thg => thg.id == event.target.id); //console.log('dragging thought',thg)\n\n      setDraggingThought(thg);\n      setDragSourceId(1);\n    }\n  };\n\n  const dragEndHandler = event => {\n    event.target.classList.remove('dragging');\n  };\n\n  const dropHandler = event => {\n    event.preventDefault();\n    const element = document.querySelector('.dragging');\n    console.log('drop end', event.target.id);\n\n    if (event.target.id == 1) {\n      // check if already exists\n      if (dragSourceId == 1) {\n        return;\n      }\n\n      if (findInFirstCard(draggingThought.id)) {\n        return;\n      }\n\n      setFirstThoughts(prev => {\n        return [...prev, draggingThought];\n      });\n      cleanSourceCard(dragSourceId, draggingThought);\n    } else if (event.target.id == 2) {\n      if (dragSourceId == 2) {\n        return;\n      }\n\n      if (findInSecondCard(draggingThought.id)) {\n        return;\n      }\n\n      setSecondThoughts(prev => {\n        return [...prev, draggingThought];\n      });\n      cleanSourceCard(dragSourceId, draggingThought);\n    } else if (event.target.id == 3) {\n      if (dragSourceId == 3) {\n        return;\n      }\n\n      if (findInThirdCard(draggingThought.id)) {\n        return;\n      }\n\n      setThirdThoughts(prev => {\n        return [...prev, draggingThought];\n      });\n      cleanSourceCard(dragSourceId, draggingThought);\n    } else if (event.target.id == 4) {\n      if (dragSourceId == 4) {\n        return;\n      }\n\n      if (findInFourthCard(draggingThought.id)) {\n        return;\n      }\n\n      setFourthThoughts(prev => {\n        return [...prev, draggingThought];\n      });\n      cleanSourceCard(dragSourceId, draggingThought);\n    }\n  };\n\n  const allowDrop = event => {\n    console.log('dragging over element');\n    event.preventDefault();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"thought-cards-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row g-0\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col\",\n          children: /*#__PURE__*/_jsxDEV(ThoughtCard, {\n            id: \"1\",\n            title: \"Very likely or Real\",\n            thoughts: state.thoughts.first,\n            onNewThought: newThoughtHandler,\n            onDragStart: dragStartHandler,\n            onDragEnd: dragEndHandler,\n            onDrop: dropHandler,\n            onDragOver: allowDrop,\n            onDelete: deleteThgHandler\n          }, '1', false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col\",\n          children: /*#__PURE__*/_jsxDEV(ThoughtCard, {\n            id: \"2\",\n            title: \"somewhat likely or real\",\n            thoughts: state.thoughts.second,\n            onNewThought: newThoughtHandler,\n            onDragStart: dragStartHandler,\n            onDragEnd: dragEndHandler,\n            onDrop: dropHandler,\n            onDragOver: allowDrop,\n            onDelete: deleteThgHandler\n          }, '2', false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col\",\n          children: /*#__PURE__*/_jsxDEV(ThoughtCard, {\n            id: \"3\",\n            title: \"Probably not or unrealistic\",\n            thoughts: state.thoughts.third,\n            onNewThought: newThoughtHandler,\n            onDragStart: dragStartHandler,\n            onDragEnd: dragEndHandler,\n            onDrop: dropHandler,\n            onDragOver: allowDrop,\n            onDelete: deleteThgHandler\n          }, '3', false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col\",\n          children: /*#__PURE__*/_jsxDEV(ThoughtCard, {\n            id: \"4\",\n            title: \"Highly unlikey or unrealistic\",\n            thoughts: state.thoughts.fourth,\n            onNewThought: newThoughtHandler,\n            onDragStart: dragStartHandler,\n            onDragEnd: dragEndHandler,\n            onDrop: dropHandler,\n            onDragOver: allowDrop,\n            onDelete: deleteThgHandler\n          }, '4', false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 237,\n    columnNumber: 3\n  }, this) // <div className='thought-cards-container'>\n  // </div>\n  ;\n};\n\n_s(Thoughts, \"RYdhrtEWfYkLgU7NJpJ8EjxpuSk=\");\n\n_c = Thoughts;\nexport default Thoughts;\n\nvar _c;\n\n$RefreshReg$(_c, \"Thoughts\");","map":{"version":3,"sources":["/Users/apple/Documents/work/fiverr/2021/December/boulmpos/Backups/latest2/src/components/Dashboard/CreateNewVersion/StepSeven/Thoughts.js"],"names":["React","useState","useEffect","useReducer","ThoughtCard","Thought","initialState","thoughts","first","second","third","fourth","dragId","dragSrcId","dataLoading","Thoughts","props","firstThoughts","setFirstThoughts","secondThoghts","setSecondThoughts","thirdThoughts","setThirdThoughts","fourthThoughts","setFourthThoughts","state","dispatch","reducer","newThought","setNewThought","draggingThought","setDraggingThought","dragSourceId","setDragSourceId","cleanSourceCard","id","draggingThg","filtered","filter","thg","tgh","findInFirstCard","draggingTgh","found","find","findInSecondCard","findInThirdCard","findInFourthCard","filterThoughts","parentCardId","thgId","filterd","newThoughtHandler","cardId","prevThoughts","deleteThgHandler","event","console","log","target","CARD_ID","getAttribute","dragStartHandler","parentNode","classList","add","dragEndHandler","remove","dropHandler","preventDefault","element","document","querySelector","prev","allowDrop"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useReducer } from 'react';\nimport './Thoughts.css';\nimport ThoughtCard from './ThoughtCard';\n\nimport Thought from './Thought';\n\nconst initialState = {\n\tthoughts: {\n\t\tfirst: [],\n\t\tsecond: [],\n\t\tthird: [],\n\t\tfourth: [],\n\t},\n\tdragId: null,\n\tdragSrcId: null,\n\tdataLoading: true,\n};\n\nconst Thoughts = (props) => {\n\tconst [firstThoughts, setFirstThoughts] = useState([]);\n\tconst [secondThoghts, setSecondThoughts] = useState([]);\n\tconst [thirdThoughts, setThirdThoughts] = useState([]);\n\tconst [fourthThoughts, setFourthThoughts] = useState([]);\n\n\tconst [state, dispatch] = useReducer(reducer, initialState);\n\n\tconst [newThought, setNewThought] = useState('');\n\n\tconst [draggingThought, setDraggingThought] = useState(null);\n\n\tconst [dragSourceId, setDragSourceId] = useState(null);\n\n\t////////////////////////////////////// HELPER FUNCTIONS       /////////////////////\n\tconst cleanSourceCard = (id, draggingThg) => {\n\t\tif (id == 1) {\n\t\t\tconst filtered = firstThoughts.filter((thg) => thg.id != draggingThg.id);\n\t\t\tsetFirstThoughts(filtered);\n\t\t} else if (id == 2) {\n\t\t\tconst filtered = secondThoghts.filter((thg) => thg.id != draggingThg.id);\n\t\t\tsetSecondThoughts(filtered);\n\t\t} else if (id == 3) {\n\t\t\tconst filtered = thirdThoughts.filter((thg) => thg.id != draggingThg.id);\n\t\t\tsetThirdThoughts(filtered);\n\t\t} else if (id == 4) {\n\t\t\tconst filtered = fourthThoughts.filter((tgh) => tgh.id != draggingThg.id);\n\t\t\tsetFourthThoughts(filtered);\n\t\t}\n\t};\n\n\tconst findInFirstCard = (draggingTgh) => {\n\t\tconst found = firstThoughts.find((thg) => thg.id == draggingTgh.id);\n\t\tif (found) {\n\t\t\treturn true;\n\t\t}\n\t};\n\n\tconst findInSecondCard = (draggingTgh) => {\n\t\tconst found = secondThoghts.find((thg) => thg.id == draggingTgh.id);\n\t\tif (found) {\n\t\t\treturn true;\n\t\t}\n\t};\n\n\tconst findInThirdCard = (draggingTgh) => {\n\t\tconst found = thirdThoughts.find((thg) => thg.id == draggingTgh.id);\n\t\tif (found) {\n\t\t\treturn true;\n\t\t}\n\t};\n\n\tconst findInFourthCard = (draggingTgh) => {\n\t\tconst found = fourthThoughts.find((thg) => thg.id == draggingTgh.id);\n\t\tif (found) {\n\t\t\treturn true;\n\t\t}\n\t};\n\n\tconst filterThoughts = (parentCardId, thgId) => {\n\t\tif (parentCardId == 1) {\n\t\t\tconst filterd = firstThoughts.filter((thg) => thg.id != thgId);\n\t\t\treturn filterd;\n\t\t}\n\t\tif (parentCardId == 2) {\n\t\t\tconst filterd = secondThoghts.filter((thg) => thg.id != thgId);\n\t\t\treturn filterd;\n\t\t}\n\t\tif (parentCardId == 3) {\n\t\t\tconst filterd = thirdThoughts.filter((thg) => thg.id != thgId);\n\t\t\treturn filterd;\n\t\t}\n\n\t\tif (parentCardId == 4) {\n\t\t\tconst filterd = fourthThoughts.filter((thg) => thg.id != thgId);\n\t\t\treturn filterd;\n\t\t}\n\t};\n\t/////////////////////////////////// NATIVE ADD AND DELETE FUNCTIONALITY FOR ITEMS ///////////\n\n\tconst newThoughtHandler = (newThought) => {\n\t\tsetNewThought(newThought);\n\t\tif (newThought.cardId === '1') {\n\t\t\tsetFirstThoughts((prevThoughts) => {\n\t\t\t\treturn [...prevThoughts, newThought];\n\t\t\t});\n\t\t\tsetNewThought('');\n\t\t} else if (newThought.cardId === '2') {\n\t\t\tsetSecondThoughts((prevThoughts) => {\n\t\t\t\treturn [...prevThoughts, newThought];\n\t\t\t});\n\t\t\tsetNewThought('');\n\t\t} else if (newThought.cardId === '3') {\n\t\t\tsetThirdThoughts((prevThoughts) => {\n\t\t\t\treturn [...prevThoughts, newThought];\n\t\t\t});\n\t\t\tsetNewThought('');\n\t\t} else {\n\t\t\tsetFourthThoughts((prevThoughts) => {\n\t\t\t\treturn [...prevThoughts, newThought];\n\t\t\t});\n\t\t\tsetNewThought('');\n\t\t}\n\t};\n\n\tconst deleteThgHandler = (event) => {\n\t\tconsole.log(event.target.id);\n\t\tconst CARD_ID = event.target.getAttribute('parentId');\n\t\tconsole.log('parent Card id', CARD_ID);\n\n\t\tif (CARD_ID == 1) {\n\t\t\tsetFirstThoughts(filterThoughts(1, event.target.id));\n\t\t} else if (CARD_ID == 2) {\n\t\t\tsetSecondThoughts(filterThoughts(2, event.target.id));\n\t\t} else if (CARD_ID == 3) {\n\t\t\tsetThirdThoughts(filterThoughts(3, event.target.id));\n\t\t} else {\n\t\t\tsetFourthThoughts(filterThoughts(4, event.target.id));\n\t\t}\n\t};\n\n\tconst dragStartHandler = (event) => {\n\t\tconsole.log('drag is started', event.target.parentNode.id);\n\t\tevent.target.classList.add('dragging');\n\t\tif (event.target.parentNode.id == 4) {\n\t\t\tconst thg = fourthThoughts.find((thg) => thg.id == event.target.id);\n\t\t\tconsole.log('dragging thgought', thg);\n\t\t\tsetDraggingThought(thg);\n\t\t\tsetDragSourceId(4);\n\t\t}\n\n\t\tif (event.target.parentNode.id == 3) {\n\t\t\tconst thg = thirdThoughts.find((thg) => thg.id == event.target.id);\n\t\t\t//console.log('dragging thought',thg)\n\t\t\tsetDraggingThought(thg);\n\t\t\tsetDragSourceId(3);\n\t\t}\n\t\tif (event.target.parentNode.id == 2) {\n\t\t\tconst thg = secondThoghts.find((thg) => thg.id == event.target.id);\n\t\t\t//console.log('dragging thought',thg)\n\t\t\tsetDraggingThought(thg);\n\t\t\tsetDragSourceId(2);\n\t\t}\n\t\tif (event.target.parentNode.id == 1) {\n\t\t\tconst thg = firstThoughts.find((thg) => thg.id == event.target.id);\n\t\t\t//console.log('dragging thought',thg)\n\t\t\tsetDraggingThought(thg);\n\t\t\tsetDragSourceId(1);\n\t\t}\n\t};\n\n\tconst dragEndHandler = (event) => {\n\t\tevent.target.classList.remove('dragging');\n\t};\n\n\tconst dropHandler = (event) => {\n\t\tevent.preventDefault();\n\t\tconst element = document.querySelector('.dragging');\n\t\tconsole.log('drop end', event.target.id);\n\n\t\tif (event.target.id == 1) {\n\t\t\t// check if already exists\n\t\t\tif (dragSourceId == 1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (findInFirstCard(draggingThought.id)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsetFirstThoughts((prev) => {\n\t\t\t\treturn [...prev, draggingThought];\n\t\t\t});\n\n\t\t\tcleanSourceCard(dragSourceId, draggingThought);\n\t\t} else if (event.target.id == 2) {\n\t\t\tif (dragSourceId == 2) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (findInSecondCard(draggingThought.id)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsetSecondThoughts((prev) => {\n\t\t\t\treturn [...prev, draggingThought];\n\t\t\t});\n\t\t\tcleanSourceCard(dragSourceId, draggingThought);\n\t\t} else if (event.target.id == 3) {\n\t\t\tif (dragSourceId == 3) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (findInThirdCard(draggingThought.id)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsetThirdThoughts((prev) => {\n\t\t\t\treturn [...prev, draggingThought];\n\t\t\t});\n\t\t\tcleanSourceCard(dragSourceId, draggingThought);\n\t\t} else if (event.target.id == 4) {\n\t\t\tif (dragSourceId == 4) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (findInFourthCard(draggingThought.id)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsetFourthThoughts((prev) => {\n\t\t\t\treturn [...prev, draggingThought];\n\t\t\t});\n\t\t\tcleanSourceCard(dragSourceId, draggingThought);\n\t\t}\n\t};\n\n\tconst allowDrop = (event) => {\n\t\tconsole.log('dragging over element');\n\t\tevent.preventDefault();\n\t};\n\n\treturn (\n\t\t<div className='thought-cards-container'>\n\t\t\t<div className='container'>\n\t\t\t\t<div className='row g-0'>\n\t\t\t\t\t<div className='col'>\n\t\t\t\t\t\t<ThoughtCard\n\t\t\t\t\t\t\tkey='1'\n\t\t\t\t\t\t\tid='1'\n\t\t\t\t\t\t\ttitle='Very likely or Real'\n\t\t\t\t\t\t\tthoughts={state.thoughts.first}\n\t\t\t\t\t\t\tonNewThought={newThoughtHandler}\n\t\t\t\t\t\t\tonDragStart={dragStartHandler}\n\t\t\t\t\t\t\tonDragEnd={dragEndHandler}\n\t\t\t\t\t\t\tonDrop={dropHandler}\n\t\t\t\t\t\t\tonDragOver={allowDrop}\n\t\t\t\t\t\t\tonDelete={deleteThgHandler}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='col'>\n\t\t\t\t\t\t<ThoughtCard\n\t\t\t\t\t\t\tkey='2'\n\t\t\t\t\t\t\tid='2'\n\t\t\t\t\t\t\ttitle='somewhat likely or real'\n\t\t\t\t\t\t\tthoughts={state.thoughts.second}\n\t\t\t\t\t\t\tonNewThought={newThoughtHandler}\n\t\t\t\t\t\t\tonDragStart={dragStartHandler}\n\t\t\t\t\t\t\tonDragEnd={dragEndHandler}\n\t\t\t\t\t\t\tonDrop={dropHandler}\n\t\t\t\t\t\t\tonDragOver={allowDrop}\n\t\t\t\t\t\t\tonDelete={deleteThgHandler}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='col'>\n\t\t\t\t\t\t<ThoughtCard\n\t\t\t\t\t\t\tkey='3'\n\t\t\t\t\t\t\tid='3'\n\t\t\t\t\t\t\ttitle='Probably not or unrealistic'\n\t\t\t\t\t\t\tthoughts={state.thoughts.third}\n\t\t\t\t\t\t\tonNewThought={newThoughtHandler}\n\t\t\t\t\t\t\tonDragStart={dragStartHandler}\n\t\t\t\t\t\t\tonDragEnd={dragEndHandler}\n\t\t\t\t\t\t\tonDrop={dropHandler}\n\t\t\t\t\t\t\tonDragOver={allowDrop}\n\t\t\t\t\t\t\tonDelete={deleteThgHandler}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='col'>\n\t\t\t\t\t\t<ThoughtCard\n\t\t\t\t\t\t\tkey='4'\n\t\t\t\t\t\t\tid='4'\n\t\t\t\t\t\t\ttitle='Highly unlikey or unrealistic'\n\t\t\t\t\t\t\tthoughts={state.thoughts.fourth}\n\t\t\t\t\t\t\tonNewThought={newThoughtHandler}\n\t\t\t\t\t\t\tonDragStart={dragStartHandler}\n\t\t\t\t\t\t\tonDragEnd={dragEndHandler}\n\t\t\t\t\t\t\tonDrop={dropHandler}\n\t\t\t\t\t\t\tonDragOver={allowDrop}\n\t\t\t\t\t\t\tonDelete={deleteThgHandler}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t// <div className='thought-cards-container'>\n\n\t\t// </div>\n\t);\n};\nexport default Thoughts;\n"]},"metadata":{},"sourceType":"module"}