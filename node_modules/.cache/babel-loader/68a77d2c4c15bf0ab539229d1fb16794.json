{"ast":null,"code":"import uniqueId from 'lodash.uniqueid';\nimport { DEFAULT_TAGS_DATA } from '../../../../data/step-four/defaultData';\nexport const INITIAL_STATE = {\n  tags: DEFAULT_TAGS_DATA,\n  tagTitle: '',\n  dataIsLoading: true\n};\nexport const default_tags = [{\n  id: '123',\n  title: 'Watch a Comedy',\n  status: 'selected'\n}, {\n  id: '453',\n  title: 'Go to sleep early',\n  status: 'not_selected'\n}, {\n  id: '323',\n  title: 'Weighted blanket',\n  status: 'not_selected'\n}, {\n  id: '562',\n  title: 'Go to a movie',\n  status: 'not_selected'\n}, {\n  id: '531',\n  title: 'Ride a bike',\n  status: 'not_selected'\n}];\nexport const ACTIONS = {\n  CHANGE_TITLE: 'title_change',\n  TOGGLE_SELECT: 'toggle_select',\n  ADD_NEW_TAG: 'add_new_tag',\n  DATA_FROM_SERVER: 'data_from_server',\n  DATA_FROM_LOCAL_STATE: 'data_from_local_state'\n};\nexport default function reducer(state, action) {\n  const type = action.type;\n  const data = action.payload.data;\n  const prevState = { ...state\n  };\n\n  switch (type) {\n    case ACTIONS.ADD_NEW_TAG:\n      let newId = uniqueId();\n      const newTag = {\n        id: newId,\n        title: prevState.tagTitle,\n        status: 'not_selected'\n      };\n      prevState.tags = [...prevState.tags, newTag];\n      prevState.tagTitle = '';\n      break;\n\n    case ACTIONS.CHANGE_TITLE:\n      prevState.tagTitle = data;\n      break;\n\n    case ACTIONS.TOGGLE_SELECT:\n      if (data.status === 'selected') {\n        prevState.tags.map(tag => {\n          if (tag.id == data.id) {\n            tag['status'] = 'not_selected';\n          }\n        });\n      } else {\n        prevState.tags.map(tag => {\n          if (tag.id == data.id) {\n            tag['status'] = 'selected';\n          }\n        });\n      }\n\n      break;\n\n    case ACTIONS.DATA_FROM_SERVER:\n      //console.log(action);\n      prevState['tags'] = data;\n      prevState.tags.map(tag => {\n        tag['id'] = tag._id;\n      });\n      prevState.dataIsLoading = false;\n      break;\n\n    case ACTIONS.DATA_FROM_LOCAL_STATE:\n      prevState.tags = default_tags;\n      prevState.dataIsLoading = false;\n      break;\n\n    default: //return prevState;\n\n  }\n\n  return prevState;\n}","map":{"version":3,"sources":["/Users/apple/Documents/work/fiverr/2021/December/boulmpos/Backups/latest2/src/components/Dashboard/CreateNewVersion/StepFour/reducer.js"],"names":["uniqueId","DEFAULT_TAGS_DATA","INITIAL_STATE","tags","tagTitle","dataIsLoading","default_tags","id","title","status","ACTIONS","CHANGE_TITLE","TOGGLE_SELECT","ADD_NEW_TAG","DATA_FROM_SERVER","DATA_FROM_LOCAL_STATE","reducer","state","action","type","data","payload","prevState","newId","newTag","map","tag","_id"],"mappings":"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","sourcesContent":["import uniqueId from 'lodash.uniqueid';\nimport { DEFAULT_TAGS_DATA } from '../../../../data/step-four/defaultData';\nexport const INITIAL_STATE = {\n\ttags: DEFAULT_TAGS_DATA,\n\ttagTitle: '',\n\tdataIsLoading: true,\n};\n\nexport const default_tags = [\n\t{\n\t\tid: '123',\n\t\ttitle: 'Watch a Comedy',\n\t\tstatus: 'selected',\n\t},\n\t{ id: '453', title: 'Go to sleep early', status: 'not_selected' },\n\t{\n\t\tid: '323',\n\t\ttitle: 'Weighted blanket',\n\t\tstatus: 'not_selected',\n\t},\n\t{\n\t\tid: '562',\n\t\ttitle: 'Go to a movie',\n\t\tstatus: 'not_selected',\n\t},\n\t{\n\t\tid: '531',\n\t\ttitle: 'Ride a bike',\n\t\tstatus: 'not_selected',\n\t},\n];\n\nexport const ACTIONS = {\n\tCHANGE_TITLE: 'title_change',\n\tTOGGLE_SELECT: 'toggle_select',\n\tADD_NEW_TAG: 'add_new_tag',\n\tDATA_FROM_SERVER: 'data_from_server',\n\tDATA_FROM_LOCAL_STATE: 'data_from_local_state',\n};\n\nexport default function reducer(state, action) {\n\tconst type = action.type;\n\tconst data = action.payload.data;\n\n\tconst prevState = { ...state };\n\n\tswitch (type) {\n\t\tcase ACTIONS.ADD_NEW_TAG:\n\t\t\tlet newId = uniqueId();\n\t\t\tconst newTag = {\n\t\t\t\tid: newId,\n\t\t\t\ttitle: prevState.tagTitle,\n\t\t\t\tstatus: 'not_selected',\n\t\t\t};\n\t\t\tprevState.tags = [...prevState.tags, newTag];\n\t\t\tprevState.tagTitle = '';\n\t\t\tbreak;\n\t\tcase ACTIONS.CHANGE_TITLE:\n\t\t\tprevState.tagTitle = data;\n\t\t\tbreak;\n\t\tcase ACTIONS.TOGGLE_SELECT:\n\t\t\tif (data.status === 'selected') {\n\t\t\t\tprevState.tags.map((tag) => {\n\t\t\t\t\tif (tag.id == data.id) {\n\t\t\t\t\t\ttag['status'] = 'not_selected';\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tprevState.tags.map((tag) => {\n\t\t\t\t\tif (tag.id == data.id) {\n\t\t\t\t\t\ttag['status'] = 'selected';\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tbreak;\n\t\tcase ACTIONS.DATA_FROM_SERVER:\n\t\t\t//console.log(action);\n\t\t\tprevState['tags'] = data;\n\t\t\tprevState.tags.map((tag) => {\n\t\t\t\ttag['id'] = tag._id;\n\t\t\t});\n\t\t\tprevState.dataIsLoading = false;\n\t\t\tbreak;\n\t\tcase ACTIONS.DATA_FROM_LOCAL_STATE:\n\t\t\tprevState.tags = default_tags;\n\t\t\tprevState.dataIsLoading = false;\n\t\t\tbreak;\n\t\tdefault:\n\t\t//return prevState;\n\t}\n\treturn prevState;\n}\n"]},"metadata":{},"sourceType":"module"}