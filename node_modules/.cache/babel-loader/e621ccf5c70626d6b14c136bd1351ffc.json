{"ast":null,"code":"import { faBirthdayCake } from '@fortawesome/free-solid-svg-icons';\nimport uniqueId from 'lodash.uniqueid';\nimport { DEFAULT_TAGS_DATA } from '../../../../data/step-four/defaultData';\nexport const INITIAL_STATE = {\n  tags: DEFAULT_TAGS_DATA,\n  firstTags: DEFAULT_TAGS_DATA,\n  secondTags: DEFAULT_TAGS_DATA,\n  thirdTags: DEFAULT_TAGS_DATA,\n  tagTitleFirst: '',\n  tagTitleSecond: '',\n  tagTitleThird: '',\n  dataIsLoading: true\n};\nexport const ACTIONS = {\n  CHANGE_TITLE_FIRST: 'change_title_first',\n  CHANGE_TITLE_SECOND: 'change_title_second',\n  CHANGE_TITLE_THIRD: 'change_title_third',\n  TOGGLE_SELECT: 'toggle_select',\n  ADD_NEW_TAG: 'add_new_tag',\n  DATA_FROM_SERVER: 'data_from_server',\n  DATA_FROM_LOCAL_STATE: 'data_from_local_state'\n};\nexport default function reducer(state, action) {\n  const type = action.type;\n  const data = action.payload.data;\n  const prevState = { ...state\n  };\n\n  switch (type) {\n    case ACTIONS.ADD_NEW_TAG:\n      let newId = uniqueId();\n      const newTag = {\n        id: newId,\n        title: action.payload.tagTitle,\n        tagCategory: action.payload.tagCategory,\n        status: 'not_selected'\n      };\n      prevState.tags = [...prevState.tags, newTag];\n\n      switch (newTag.tagCategory) {\n        case 'rules':\n          prevState.firstTags = [...prevState.firstTags, newTag];\n          break;\n\n        case 'breakthroughs':\n          prevState.secondTags = [...prevState.secondTags, newTag];\n          break;\n\n        case 'realizations':\n          prevState.thirdTags = [...prevState.thirdTags, newTag];\n\n        default: // do nothing\n\n      }\n\n      prevState.tagTitle = '';\n      break;\n\n    case ACTIONS.CHANGE_TITLE:\n      prevState.tagTitle = data;\n      break;\n\n    case ACTIONS.TOGGLE_SELECT:\n      if (data.status === 'selected') {\n        prevState.tags.map(tag => {\n          if (tag.id == data.id) {\n            tag['status'] = 'not_selected';\n          }\n        });\n      } else {\n        prevState.tags.map(tag => {\n          if (tag.id == data.id) {\n            tag['status'] = 'selected';\n          }\n        });\n      }\n\n      break;\n\n    case ACTIONS.DATA_FROM_SERVER:\n      //console.log(action);\n      prevState['tags'] = data;\n      prevState.tags.map(tag => {\n        tag['id'] = tag._id;\n      });\n      prevState.dataIsLoading = false;\n      break;\n\n    case ACTIONS.DATA_FROM_LOCAL_STATE:\n      prevState.tags = [{\n        id: '123',\n        tagTitle: 'Watch a Comedy',\n        status: 'selected',\n        tagCategory: ''\n      }, {\n        id: '453',\n        title: 'Go to sleep early',\n        status: 'not_selected'\n      }, {\n        id: '323',\n        tagTitle: 'Weighted blanket',\n        status: 'not_selected',\n        tagCategory: ''\n      }, {\n        id: '562',\n        tagTitle: 'Go to a movie',\n        status: 'not_selected',\n        tagCategory: ''\n      }, {\n        id: '531',\n        tagTitle: 'Ride a bike',\n        status: 'not_selected',\n        category: ''\n      }];\n      prevState.firstTags = [...prevState.tags];\n      prevState.secondTags = [...prevState.tags];\n      prevState.thirdTags = [...prevState.tags];\n      prevState.firstTags.map(tag => {\n        tag['tagCategory'] = 'rules';\n        tag.id = 'f' + tag.id;\n      });\n      prevState.secondTags.map(tag => {\n        tag['tagCategory'] = 'breakthroughs';\n        tag.id = 's' + tag.id;\n      });\n      prevState.thirdTags.map(tag => {\n        tag['tagCategory'] = 'realizations';\n        tag.id = 't' + tag.id;\n      });\n      prevState.dataIsLoading = false;\n      break;\n\n    default: //return prevState;\n\n  }\n\n  return prevState;\n}","map":{"version":3,"sources":["/Users/apple/Documents/work/fiverr/2021/December/boulmpos/Backups/latest2/src/components/Dashboard/CreateNewVersion/StepTen/reducer.js"],"names":["faBirthdayCake","uniqueId","DEFAULT_TAGS_DATA","INITIAL_STATE","tags","firstTags","secondTags","thirdTags","tagTitleFirst","tagTitleSecond","tagTitleThird","dataIsLoading","ACTIONS","CHANGE_TITLE_FIRST","CHANGE_TITLE_SECOND","CHANGE_TITLE_THIRD","TOGGLE_SELECT","ADD_NEW_TAG","DATA_FROM_SERVER","DATA_FROM_LOCAL_STATE","reducer","state","action","type","data","payload","prevState","newId","newTag","id","title","tagTitle","tagCategory","status","CHANGE_TITLE","map","tag","_id","category"],"mappings":"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","sourcesContent":["import { faBirthdayCake } from '@fortawesome/free-solid-svg-icons';\nimport uniqueId from 'lodash.uniqueid';\nimport { DEFAULT_TAGS_DATA } from '../../../../data/step-four/defaultData';\nexport const INITIAL_STATE = {\n\ttags: DEFAULT_TAGS_DATA,\n\tfirstTags: DEFAULT_TAGS_DATA,\n\tsecondTags: DEFAULT_TAGS_DATA,\n\tthirdTags: DEFAULT_TAGS_DATA,\n\ttagTitleFirst: '',\n\ttagTitleSecond: '',\n\ttagTitleThird: '',\n\tdataIsLoading: true,\n};\n\nexport const ACTIONS = {\n\tCHANGE_TITLE_FIRST: 'change_title_first',\n\tCHANGE_TITLE_SECOND: 'change_title_second',\n\tCHANGE_TITLE_THIRD: 'change_title_third',\n\tTOGGLE_SELECT: 'toggle_select',\n\tADD_NEW_TAG: 'add_new_tag',\n\tDATA_FROM_SERVER: 'data_from_server',\n\tDATA_FROM_LOCAL_STATE: 'data_from_local_state',\n};\n\nexport default function reducer(state, action) {\n\tconst type = action.type;\n\tconst data = action.payload.data;\n\n\tconst prevState = { ...state };\n\n\tswitch (type) {\n\t\tcase ACTIONS.ADD_NEW_TAG:\n\t\t\tlet newId = uniqueId();\n\t\t\tconst newTag = {\n\t\t\t\tid: newId,\n\t\t\t\ttitle: action.payload.tagTitle,\n\t\t\t\ttagCategory: action.payload.tagCategory,\n\t\t\t\tstatus: 'not_selected',\n\t\t\t};\n\n\t\t\tprevState.tags = [...prevState.tags, newTag];\n\n\t\t\tswitch (newTag.tagCategory) {\n\t\t\t\tcase 'rules':\n\t\t\t\t\tprevState.firstTags = [...prevState.firstTags, newTag];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'breakthroughs':\n\t\t\t\t\tprevState.secondTags = [...prevState.secondTags, newTag];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'realizations':\n\t\t\t\t\tprevState.thirdTags = [...prevState.thirdTags, newTag];\n\n\t\t\t\tdefault:\n\n\t\t\t\t// do nothing\n\t\t\t}\n\t\t\tprevState.tagTitle = '';\n\t\t\tbreak;\n\t\tcase ACTIONS.CHANGE_TITLE:\n\t\t\tprevState.tagTitle = data;\n\t\t\tbreak;\n\t\tcase ACTIONS.TOGGLE_SELECT:\n\t\t\tif (data.status === 'selected') {\n\t\t\t\tprevState.tags.map((tag) => {\n\t\t\t\t\tif (tag.id == data.id) {\n\t\t\t\t\t\ttag['status'] = 'not_selected';\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tprevState.tags.map((tag) => {\n\t\t\t\t\tif (tag.id == data.id) {\n\t\t\t\t\t\ttag['status'] = 'selected';\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tbreak;\n\t\tcase ACTIONS.DATA_FROM_SERVER:\n\t\t\t//console.log(action);\n\t\t\tprevState['tags'] = data;\n\t\t\tprevState.tags.map((tag) => {\n\t\t\t\ttag['id'] = tag._id;\n\t\t\t});\n\t\t\tprevState.dataIsLoading = false;\n\t\t\tbreak;\n\t\tcase ACTIONS.DATA_FROM_LOCAL_STATE:\n\t\t\tprevState.tags = [\n\t\t\t\t{\n\t\t\t\t\tid: '123',\n\t\t\t\t\ttagTitle: 'Watch a Comedy',\n\t\t\t\t\tstatus: 'selected',\n\t\t\t\t\ttagCategory: '',\n\t\t\t\t},\n\t\t\t\t{ id: '453', title: 'Go to sleep early', status: 'not_selected' },\n\t\t\t\t{\n\t\t\t\t\tid: '323',\n\t\t\t\t\ttagTitle: 'Weighted blanket',\n\t\t\t\t\tstatus: 'not_selected',\n\t\t\t\t\ttagCategory: '',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: '562',\n\t\t\t\t\ttagTitle: 'Go to a movie',\n\t\t\t\t\tstatus: 'not_selected',\n\t\t\t\t\ttagCategory: '',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: '531',\n\t\t\t\t\ttagTitle: 'Ride a bike',\n\t\t\t\t\tstatus: 'not_selected',\n\t\t\t\t\tcategory: '',\n\t\t\t\t},\n\t\t\t];\n\n\t\t\tprevState.firstTags = [...prevState.tags];\n\t\t\tprevState.secondTags = [...prevState.tags];\n\t\t\tprevState.thirdTags = [...prevState.tags];\n\t\t\tprevState.firstTags.map((tag) => {\n\t\t\t\ttag['tagCategory'] = 'rules';\n\t\t\t\ttag.id = 'f' + tag.id;\n\t\t\t});\n\n\t\t\tprevState.secondTags.map((tag) => {\n\t\t\t\ttag['tagCategory'] = 'breakthroughs';\n\n\t\t\t\ttag.id = 's' + tag.id;\n\t\t\t});\n\t\t\tprevState.thirdTags.map((tag) => {\n\t\t\t\ttag['tagCategory'] = 'realizations';\n\n\t\t\t\ttag.id = 't' + tag.id;\n\t\t\t});\n\t\t\tprevState.dataIsLoading = false;\n\n\t\t\tbreak;\n\t\tdefault:\n\t\t//return prevState;\n\t}\n\treturn prevState;\n}\n"]},"metadata":{},"sourceType":"module"}